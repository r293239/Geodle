<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shaple üß© - Country Shape Guessing Game</title>
    <meta name="description" content="Identify countries by their silhouette in Shaple - a daily country shape guessing game. Test your geographical knowledge!">
    <meta name="keywords" content="country shape game, geography puzzle, silhouette guessing, daily challenge, shaple, country recognition">
    <meta name="author" content="Routele Team">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, 
                #0A192F 0%, 
                #112240 50%, 
                #0A192F 100%);
            min-height: 100vh;
            color: #E6F1FF;
        }

        /* Navy blue with gold accents */
        :root {
            --navy-dark: #0A192F;
            --navy-medium: #112240;
            --navy-light: #233554;
            --gold-primary: #FFD700;
            --gold-secondary: #FFC107;
            --gold-light: #FFE87C;
            --text-primary: #E6F1FF;
            --text-secondary: #8892B0;
            --success: #4CAF50;
            --error: #F44336;
        }

        /* Subtle gold gradient background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(255, 215, 0, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(255, 193, 7, 0.02) 0%, transparent 50%),
                linear-gradient(45deg, transparent 40%, rgba(255, 215, 0, 0.01) 100%);
            pointer-events: none;
            z-index: 1;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 2;
        }

        /* Header Styles */
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding-top: 30px;
            position: relative;
        }

        .header h1 {
            font-size: 4.5rem;
            margin-bottom: 15px;
            background: linear-gradient(45deg, var(--gold-primary), var(--gold-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 900;
            letter-spacing: 3px;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.2);
        }

        .header h1::after {
            content: 'üß©';
            margin-left: 15px;
            -webkit-text-fill-color: var(--gold-primary);
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .subtitle {
            font-size: 1.4rem;
            color: var(--text-secondary);
            margin-bottom: 25px;
            font-weight: 400;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
        }

        /* Game Container */
        .game-container {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 40px;
            margin-bottom: 50px;
        }

        @media (max-width: 1024px) {
            .game-container {
                grid-template-columns: 1fr;
                gap: 30px;
            }
        }

        /* Shape Display - Navy with Gold Border */
        .shape-display {
            background: rgba(10, 25, 47, 0.9);
            border-radius: 30px;
            padding: 40px;
            border: 2px solid var(--gold-primary);
            box-shadow: 
                0 0 40px rgba(255, 215, 0, 0.1),
                0 20px 60px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
            min-height: 600px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .shape-display::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, transparent 30%, rgba(255, 215, 0, 0.03) 100%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .shape-image-container {
            width: 100%;
            height: 400px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(10, 25, 47, 0.9);
            border-radius: 20px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            overflow: hidden;
            margin-bottom: 30px;
        }

        .shape-image {
            max-width: 80%;
            max-height: 80%;
            filter: blur(var(--blur-level, 15px)) brightness(0) invert(1);
            transition: filter 0.5s ease, opacity 0.5s ease;
            object-fit: contain;
            opacity: 0.95;
        }

        .shape-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            pointer-events: none;
            z-index: 3;
            background: linear-gradient(135deg, 
                transparent 0%, 
                rgba(10, 25, 47, 0.7) 50%, 
                transparent 100%);
            transition: opacity 0.5s ease;
        }

        .shape-overlay-text {
            font-size: 2.8rem;
            color: rgba(255, 215, 0, 0.3);
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 6px;
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { opacity: 0.3; }
            to { opacity: 0.6; }
        }

        .shape-overlay-hint {
            font-size: 1.2rem;
            color: rgba(255, 215, 0, 0.5);
            font-weight: 500;
            text-align: center;
            max-width: 80%;
            line-height: 1.6;
        }

        /* Blur Indicator */
        .blur-indicator {
            padding: 20px;
            background: rgba(17, 34, 64, 0.7);
            border-radius: 15px;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .blur-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .blur-label {
            font-size: 1.1rem;
            color: var(--text-secondary);
            font-weight: 600;
        }

        .blur-level {
            font-size: 1.2rem;
            color: var(--gold-primary);
            font-weight: 700;
        }

        .blur-bar {
            height: 10px;
            background: rgba(35, 53, 84, 0.5);
            border-radius: 5px;
            overflow: hidden;
            position: relative;
        }

        .blur-progress {
            height: 100%;
            background: linear-gradient(90deg, 
                var(--gold-primary) 0%, 
                var(--gold-secondary) 100%);
            border-radius: 5px;
            transition: width 0.5s ease;
            position: relative;
            overflow: hidden;
        }

        .blur-progress::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255, 255, 255, 0.3) 50%, 
                transparent 100%);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(200%); }
        }

        /* Game Panel - Right Side */
        .game-panel {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        .stat-card {
            background: linear-gradient(135deg, 
                rgba(17, 34, 64, 0.9) 0%, 
                rgba(10, 25, 47, 0.9) 100%);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(255, 215, 0, 0.2);
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, 
                transparent 0%, 
                rgba(255, 215, 0, 0.05) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            border-color: var(--gold-primary);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.1);
        }

        .stat-card:hover::before {
            opacity: 1;
        }

        .stat-number {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(45deg, var(--gold-primary), var(--gold-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 5px;
            line-height: 1;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Input Section */
        .input-section {
            background: linear-gradient(135deg, 
                rgba(17, 34, 64, 0.9) 0%, 
                rgba(10, 25, 47, 0.9) 100%);
            border-radius: 25px;
            padding: 30px;
            border: 1px solid rgba(255, 215, 0, 0.2);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }

        .input-title {
            font-size: 1.3rem;
            color: var(--gold-primary);
            margin-bottom: 20px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .input-title::before {
            content: 'üéØ';
        }

        .input-container {
            position: relative;
            margin-bottom: 25px;
        }

        .guess-input {
            width: 100%;
            padding: 20px 25px;
            font-size: 1.2rem;
            background: rgba(35, 53, 84, 0.5);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 15px;
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .guess-input:focus {
            outline: none;
            border-color: var(--gold-primary);
            background: rgba(35, 53, 84, 0.8);
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.2);
        }

        .guess-input::placeholder {
            color: rgba(255, 215, 0, 0.4);
            font-weight: 500;
        }

        .suggestions-box {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: rgba(10, 25, 47, 0.98);
            border: 2px solid var(--gold-primary);
            border-top: none;
            border-radius: 0 0 15px 15px;
            max-height: 250px;
            overflow-y: auto;
            display: none;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .suggestion-item {
            padding: 15px 25px;
            cursor: pointer;
            border-bottom: 1px solid rgba(255, 215, 0, 0.1);
            transition: all 0.2s ease;
            color: var(--text-primary);
            font-weight: 500;
        }

        .suggestion-item:hover {
            background: rgba(255, 215, 0, 0.1);
            padding-left: 30px;
            color: var(--gold-primary);
        }

        .suggestion-item:last-child {
            border-bottom: none;
        }

        .button-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .game-button {
            padding: 18px;
            font-size: 1.1rem;
            font-weight: 700;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .submit-btn {
            background: linear-gradient(135deg, 
                var(--gold-primary) 0%, 
                var(--gold-secondary) 100%);
            color: var(--navy-dark);
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.3);
        }

        .submit-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.4);
        }

        .skip-btn {
            background: rgba(35, 53, 84, 0.7);
            color: var(--text-primary);
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        .skip-btn:hover:not(:disabled) {
            background: rgba(255, 215, 0, 0.1);
            transform: translateY(-3px);
            border-color: var(--gold-primary);
        }

        .game-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none !important;
        }

        /* Hints Section */
        .hints-section {
            background: linear-gradient(135deg, 
                rgba(17, 34, 64, 0.9) 0%, 
                rgba(10, 25, 47, 0.9) 100%);
            border-radius: 25px;
            padding: 30px;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .hints-title {
            font-size: 1.3rem;
            color: var(--gold-primary);
            margin-bottom: 20px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .hints-title::before {
            content: 'üí°';
        }

        .hints-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .hint-btn {
            padding: 16px;
            background: rgba(35, 53, 84, 0.7);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 12px;
            color: var(--gold-light);
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            justify-content: center;
        }

        .hint-btn:hover:not(:disabled) {
            background: rgba(255, 215, 0, 0.1);
            border-color: var(--gold-primary);
            transform: translateY(-2px);
        }

        .hint-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Guesses History */
        .guesses-history {
            background: linear-gradient(135deg, 
                rgba(17, 34, 64, 0.9) 0%, 
                rgba(10, 25, 47, 0.9) 100%);
            border-radius: 25px;
            padding: 30px;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .guesses-title {
            font-size: 1.3rem;
            color: var(--gold-primary);
            margin-bottom: 20px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .guesses-title::before {
            content: 'üìù';
        }

        .guesses-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-height: 300px;
            overflow-y: auto;
            padding-right: 10px;
        }

        /* Custom scrollbar */
        .guesses-list::-webkit-scrollbar {
            width: 6px;
        }

        .guesses-list::-webkit-scrollbar-track {
            background: rgba(35, 53, 84, 0.5);
            border-radius: 3px;
        }

        .guesses-list::-webkit-scrollbar-thumb {
            background: var(--gold-primary);
            border-radius: 3px;
        }

        .guess-item {
            background: rgba(35, 53, 84, 0.5);
            border-radius: 12px;
            padding: 18px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            animation: slideIn 0.3s ease;
            border: 1px solid transparent;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .guess-correct {
            border-color: var(--success);
            background: rgba(76, 175, 80, 0.1);
        }

        .guess-incorrect {
            border-color: rgba(255, 215, 0, 0.3);
        }

        .guess-info {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .guess-country {
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--text-primary);
        }

        .guess-incorrect .guess-country {
            color: var(--text-secondary);
        }

        .guess-hint {
            font-size: 0.9rem;
            color: var(--gold-light);
            font-style: italic;
        }

        .guess-status {
            font-size: 1.5rem;
        }

        .guess-correct .guess-status {
            color: var(--success);
        }

        .guess-incorrect .guess-status {
            color: rgba(255, 215, 0, 0.5);
        }

        /* Streak Counter */
        .streak-counter {
            position: fixed;
            top: 30px;
            right: 30px;
            background: linear-gradient(135deg, 
                rgba(17, 34, 64, 0.95) 0%, 
                rgba(10, 25, 47, 0.95) 100%);
            border: 2px solid var(--gold-primary);
            border-radius: 25px;
            padding: 15px 25px;
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 1000;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .streak-icon {
            color: var(--gold-primary);
            font-size: 1.8rem;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .streak-text {
            font-weight: 600;
            color: var(--text-primary);
        }

        .streak-number {
            color: var(--gold-primary);
            font-weight: 800;
            font-size: 1.4rem;
            min-width: 30px;
            text-align: center;
        }

        /* Navigation */
        .nav-bar {
            position: fixed;
            top: 30px;
            left: 30px;
            display: flex;
            gap: 15px;
            z-index: 1000;
        }

        .nav-btn {
            background: linear-gradient(135deg, 
                rgba(17, 34, 64, 0.95) 0%, 
                rgba(10, 25, 47, 0.95) 100%);
            color: var(--text-primary);
            padding: 12px 24px;
            border-radius: 20px;
            text-decoration: none;
            font-weight: 600;
            border: 1px solid rgba(255, 215, 0, 0.3);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            border-color: var(--gold-primary);
            box-shadow: 0 10px 25px rgba(255, 215, 0, 0.2);
            color: var(--gold-primary);
        }

        /* Daily Banner */
        .daily-banner {
            background: linear-gradient(135deg, 
                rgba(255, 215, 0, 0.1) 0%, 
                rgba(255, 193, 7, 0.05) 100%);
            border: 2px solid var(--gold-primary);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 40px;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .daily-title {
            font-size: 1.8rem;
            color: var(--gold-primary);
            font-weight: 700;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .daily-title::before {
            content: 'üéØ';
        }

        .daily-title::after {
            content: 'üéØ';
        }

        .daily-date {
            font-size: 1.1rem;
            color: var(--gold-light);
            font-weight: 500;
        }

        /* Game Over Modal */
        .game-over-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 25, 47, 0.95);
            backdrop-filter: blur(10px);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: linear-gradient(135deg, 
                rgba(17, 34, 64, 0.98) 0%, 
                rgba(10, 25, 47, 0.98) 100%);
            border-radius: 35px;
            padding: 60px;
            max-width: 700px;
            width: 90%;
            border: 3px solid var(--gold-primary);
            box-shadow: 
                0 0 60px rgba(255, 215, 0, 0.2),
                0 40px 80px rgba(0, 0, 0, 0.4);
            text-align: center;
            animation: modalSlide 0.5s ease;
            position: relative;
            overflow: hidden;
        }

        @keyframes modalSlide {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-content::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, transparent 40%, rgba(255, 215, 0, 0.05) 100%);
            animation: rotate 20s linear infinite;
        }

        .modal-inner {
            position: relative;
            z-index: 2;
        }

        .modal-title {
            font-size: 3.5rem;
            margin-bottom: 30px;
            background: linear-gradient(45deg, var(--gold-primary), var(--gold-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 900;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
        }

        .modal-country {
            font-size: 4rem;
            font-weight: 900;
            margin: 40px 0;
            color: var(--gold-primary);
            text-transform: uppercase;
            letter-spacing: 4px;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
            animation: countryReveal 0.6s ease;
        }

        @keyframes countryReveal {
            0% { transform: scale(0.5); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        .modal-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 25px;
            margin: 40px 0;
        }

        .modal-stat {
            background: rgba(35, 53, 84, 0.6);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }

        .modal-stat-value {
            font-size: 2.8rem;
            font-weight: 800;
            color: var(--gold-primary);
            margin-bottom: 10px;
            line-height: 1;
        }

        .modal-stat-label {
            font-size: 1rem;
            color: var(--text-secondary);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .modal-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 50px;
        }

        .modal-btn {
            padding: 22px;
            font-size: 1.2rem;
            font-weight: 700;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .modal-btn-primary {
            background: linear-gradient(135deg, 
                var(--gold-primary) 0%, 
                var(--gold-secondary) 100%);
            color: var(--navy-dark);
        }

        .modal-btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(255, 215, 0, 0.4);
        }

        .modal-btn-secondary {
            background: rgba(35, 53, 84, 0.7);
            color: var(--text-primary);
            border: 2px solid var(--gold-primary);
        }

        .modal-btn-secondary:hover {
            background: rgba(255, 215, 0, 0.1);
            transform: translateY(-3px);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 3rem;
            }
            
            .subtitle {
                font-size: 1.1rem;
                padding: 0 20px;
            }
            
            .game-container {
                grid-template-columns: 1fr;
                gap: 25px;
            }
            
            .shape-display {
                padding: 25px;
                min-height: 500px;
            }
            
            .shape-image-container {
                height: 300px;
                background: rgba(10, 25, 47, 0.95);
            }
            
            .shape-overlay-text {
                font-size: 2rem;
                letter-spacing: 3px;
            }
            
            .stats-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 15px;
            }
            
            .stat-number {
                font-size: 2.2rem;
            }
            
            .modal-content {
                padding: 30px 20px;
            }
            
            .modal-title {
                font-size: 2.5rem;
            }
            
            .modal-country {
                font-size: 2.5rem;
                letter-spacing: 2px;
            }
            
            .modal-stats {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .modal-stat-value {
                font-size: 2.2rem;
            }
            
            .nav-bar {
                position: static;
                justify-content: center;
                margin-bottom: 20px;
                flex-wrap: wrap;
            }
            
            .streak-counter {
                position: static;
                margin: 20px auto;
                width: fit-content;
            }
            
            .hints-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .button-group {
                grid-template-columns: 1fr;
            }
            
            .modal-buttons {
                grid-template-columns: 1fr;
            }
        }

        /* Loading Spinner */
        .loading-spinner {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255, 215, 0, 0.3);
            border-radius: 50%;
            border-top-color: var(--gold-primary);
            animation: spin 1s linear infinite;
            z-index: 10;
        }

        @keyframes spin {
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }

        .shape-image.loading {
            opacity: 0;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <div class="nav-bar">
        <a href="https://r293239.github.io/Geodle/" class="nav-btn">üè† Home</a>
        <a href="https://r293239.github.io/Geodle/path-mode" class="nav-btn">üó∫Ô∏è Routele</a>
        <a href="https://r293239.github.io/Geodle/country-mode" class="nav-btn">üåç Countryle</a>
    </div>

    <!-- Streak Counter -->
    <div class="streak-counter">
        <span class="streak-icon">üî•</span>
        <span class="streak-text">Streak:</span>
        <span class="streak-number" id="streakCount">0</span>
    </div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>Shaple</h1>
            <div class="subtitle">Identify countries by their silhouette. Each wrong guess sharpens the shape!</div>
        </div>

        <!-- Daily Banner -->
        <div class="daily-banner">
            <div class="daily-title">Daily Country Challenge</div>
            <div class="daily-date" id="dailyDate">Loading today's challenge...</div>
        </div>

        <!-- Main Game Area -->
        <div class="game-container">
            <!-- Shape Display -->
            <div class="shape-display">
                <div class="shape-image-container">
                    <div class="loading-spinner" id="loadingSpinner"></div>
                    <img id="shapeImage" class="shape-image" src="" alt="Country Silhouette">
                    <div class="shape-overlay">
                        <div class="shape-overlay-text" id="shapeText">IDENTIFY THE SHAPE</div>
                        <div class="shape-overlay-hint" id="shapeHint">Type your guess in the input below</div>
                    </div>
                </div>
                
                <div class="blur-indicator">
                    <div class="blur-info">
                        <span class="blur-label">Shape Clarity</span>
                        <span class="blur-level" id="blurLevel">VERY BLURRED</span>
                    </div>
                    <div class="blur-bar">
                        <div class="blur-progress" id="blurProgress"></div>
                    </div>
                </div>
            </div>

            <!-- Game Panel -->
            <div class="game-panel">
                <!-- Stats -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="guessCount">0</div>
                        <div class="stat-label">Guesses</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="remainingGuesses">8</div>
                        <div class="stat-label">Remaining</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="score">100</div>
                        <div class="stat-label">Score</div>
                    </div>
                </div>

                <!-- Guess Input -->
                <div class="input-section">
                    <div class="input-title">Make Your Guess</div>
                    <div class="input-container">
                        <input type="text" id="guessInput" class="guess-input" placeholder="Enter country name..." autocomplete="off">
                        <div id="suggestions" class="suggestions-box"></div>
                    </div>
                    <div class="button-group">
                        <button id="submitGuess" class="game-button submit-btn">‚úÖ Submit Guess</button>
                        <button id="skipCountry" class="game-button skip-btn">‚è≠Ô∏è Skip</button>
                    </div>
                </div>

                <!-- Hints -->
                <div class="hints-section">
                    <div class="hints-title">Need Help?</div>
                    <div class="hints-grid">
                        <button class="hint-btn" id="continentHint">
                            <span>üåç</span> Continent
                        </button>
                        <button class="hint-btn" id="sizeHint">
                            <span>üìè</span> Size
                        </button>
                        <button class="hint-btn" id="neighborHint">
                            <span>üë•</span> Neighbors
                        </button>
                        <button class="hint-btn" id="letterHint">
                            <span>üî§</span> First Letter
                        </button>
                    </div>
                </div>

                <!-- Guess History -->
                <div class="guesses-history">
                    <div class="guesses-title">Guess History</div>
                    <div id="guessesList" class="guesses-list">
                        <!-- Guess items will be added here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Game Over Modal -->
    <div id="gameOverModal" class="game-over-modal">
        <div class="modal-content">
            <div class="modal-inner">
                <div class="modal-title" id="resultTitle">üéâ CORRECT!</div>
                <div class="modal-country" id="modalCountryName">COUNTRY NAME</div>
                
                <div class="modal-stats">
                    <div class="modal-stat">
                        <div class="modal-stat-value" id="finalScore">100</div>
                        <div class="modal-stat-label">Final Score</div>
                    </div>
                    <div class="modal-stat">
                        <div class="modal-stat-value" id="totalGuesses">3</div>
                        <div class="modal-stat-label">Guesses Used</div>
                    </div>
                    <div class="modal-stat">
                        <div class="modal-stat-value" id="timeTaken">45s</div>
                        <div class="modal-stat-label">Time Taken</div>
                    </div>
                    <div class="modal-stat">
                        <div class="modal-stat-value" id="streakBonus">+10</div>
                        <div class="modal-stat-label">Streak Bonus</div>
                    </div>
                </div>

                <div class="modal-buttons">
                    <button id="nextCountry" class="modal-btn modal-btn-primary">üöÄ NEXT COUNTRY</button>
                    <button id="playAgain" class="modal-btn modal-btn-secondary">üîÑ PLAY AGAIN</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Audio Elements -->
    <audio id="correctSound" src="https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3"></audio>
    <audio id="incorrectSound" src="https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-notification-946.mp3"></audio>
    <audio id="hintSound" src="https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3"></audio>
    <audio id="winSound" src="https://assets.mixkit.co/sfx/preview/mixkit-game-show-suspense-waiting-667.mp3"></audio>

    <!-- Country Data -->
    <script>
        // Country data with silhouette/outline images
        const countries = [
            {
                name: "Italy",
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/Italy_-_Outline.svg/500px-Italy_-_Outline.svg.png",
                continent: "Europe",
                neighbors: ["France", "Switzerland", "Austria", "Slovenia"],
                area: 301340,
                hint: "Boot-shaped peninsula"
            },
            {
                name: "France",
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/France_-_Outline.svg/500px-France_-_Outline.svg.png",
                continent: "Europe",
                neighbors: ["Belgium", "Luxembourg", "Germany", "Switzerland", "Italy", "Spain", "Andorra", "Monaco"],
                area: 551695,
                hint: "Hexagon-shaped country"
            },
            {
                name: "Germany",
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/ba/Germany_-_Outline.svg/500px-Germany_-_Outline.svg.png",
                continent: "Europe",
                neighbors: ["Denmark", "Poland", "Czech Republic", "Austria", "Switzerland", "France", "Luxembourg", "Belgium", "Netherlands"],
                area: 357022,
                hint: "Central European country"
            },
            {
                name: "United States",
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a4/USA_-_Outline.svg/500px-USA_-_Outline.svg.png",
                continent: "North America",
                neighbors: ["Canada", "Mexico"],
                area: 9833517,
                hint: "Large North American country"
            },
            {
                name: "Brazil",
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Brazil_-_Outline.svg/500px-Brazil_-_Outline.svg.png",
                continent: "South America",
                neighbors: ["Argentina", "Bolivia", "Colombia", "Guyana", "Paraguay", "Peru", "Suriname", "Uruguay", "Venezuela", "French Guiana"],
                area: 8515767,
                hint: "Largest South American country"
            },
            {
                name: "Australia",
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Australia_-_Outline.svg/500px-Australia_-_Outline.svg.png",
                continent: "Oceania",
                neighbors: [],
                area: 7692024,
                hint: "Island continent"
            },
            {
                name: "Japan",
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9e/Japan_-_Outline.svg/500px-Japan_-_Outline.svg.png",
                continent: "Asia",
                neighbors: [],
                area: 377975,
                hint: "Archipelago of islands"
            },
            {
                name: "India",
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/74/India_-_Outline.svg/500px-India_-_Outline.svg.png",
                continent: "Asia",
                neighbors: ["Pakistan", "China", "Nepal", "Bhutan", "Bangladesh", "Myanmar"],
                area: 3287263,
                hint: "Triangular shape"
            },
            {
                name: "Canada",
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Canada_-_Outline.svg/500px-Canada_-_Outline.svg.png",
                continent: "North America",
                neighbors: ["United States"],
                area: 9984670,
                hint: "Second largest country by area"
            },
            {
                name: "United Kingdom",
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/United_Kingdom_-_Outline.svg/500px-United_Kingdom_-_Outline.svg.png",
                continent: "Europe",
                neighbors: ["Ireland"],
                area: 242495,
                hint: "Island nation"
            }
        ];

        // Game state
        let currentCountry = null;
        let guesses = [];
        let remainingGuesses = 8;
        let score = 100;
        let gameActive = true;
        let blurAmount = 15;
        let startTime = null;
        let streak = 0;
        let hintsUsed = 0;

        // DOM elements
        const shapeImage = document.getElementById('shapeImage');
        const loadingSpinner = document.getElementById('loadingSpinner');
        const guessInput = document.getElementById('guessInput');
        const suggestionsBox = document.getElementById('suggestions');
        const submitBtn = document.getElementById('submitGuess');
        const skipBtn = document.getElementById('skipCountry');
        const gameOverModal = document.getElementById('gameOverModal');
        const guessesList = document.getElementById('guessesList');
        const guessCountElement = document.getElementById('guessCount');
        const remainingGuessesElement = document.getElementById('remainingGuesses');
        const scoreElement = document.getElementById('score');
        const blurProgressElement = document.getElementById('blurProgress');
        const blurLevelElement = document.getElementById('blurLevel');
        const shapeTextElement = document.getElementById('shapeText');
        const shapeHintElement = document.getElementById('shapeHint');
        const streakCountElement = document.getElementById('streakCount');
        const dailyDateElement = document.getElementById('dailyDate');

        // Audio elements
        const correctSound = document.getElementById('correctSound');
        const incorrectSound = document.getElementById('incorrectSound');
        const hintSound = document.getElementById('hintSound');
        const winSound = document.getElementById('winSound');

        // Initialize streak from localStorage
        function initStreak() {
            const savedStreak = localStorage.getItem('shapleStreak');
            const lastPlayed = localStorage.getItem('shapleLastPlayed');
            const today = new Date().toDateString();

            if (savedStreak && lastPlayed) {
                streak = parseInt(savedStreak);
                if (lastPlayed === today) {
                    // Already played today, keep streak
                } else if (lastPlayed === new Date(Date.now() - 86400000).toDateString()) {
                    // Played yesterday, increment streak
                    streak++;
                    localStorage.setItem('shapleStreak', streak.toString());
                } else {
                    // Broken streak
                    streak = 1;
                    localStorage.setItem('shapleStreak', '1');
                }
            } else {
                streak = 1;
                localStorage.setItem('shapleStreak', '1');
            }

            localStorage.setItem('shapleLastPlayed', today);
            updateStreakDisplay();
        }

        function updateStreakDisplay() {
            streakCountElement.textContent = streak;
        }

        // Get daily country based on date
        function getDailyCountry() {
            const today = new Date();
            const dayOfYear = Math.floor((today - new Date(today.getFullYear(), 0, 0)) / 86400000);
            const countryIndex = dayOfYear % countries.length;
            return countries[countryIndex];
        }

        // Initialize game
        function initGame() {
            currentCountry = getDailyCountry();
            guesses = [];
            remainingGuesses = 8;
            score = 100;
            gameActive = true;
            blurAmount = 15;
            hintsUsed = 0;
            startTime = Date.now();

            loadCountryImage();
            updateUI();
            updateSuggestions();
            updateDailyDate();
            
            shapeTextElement.textContent = 'IDENTIFY THE SHAPE';
            shapeHintElement.textContent = 'Type your guess in the input below';
            document.getElementById('shapeOverlay').style.opacity = '1';
        }

        // Load country silhouette image
        function loadCountryImage() {
            loadingSpinner.style.display = 'block';
            shapeImage.style.opacity = '0';
            
            const img = new Image();
            img.crossOrigin = "anonymous";
            img.onload = function() {
                shapeImage.src = this.src;
                shapeImage.style.opacity = '1';
                loadingSpinner.style.display = 'none';
                updateShapeBlur();
                
                // Hide overlay text when image is loaded
                setTimeout(() => {
                    document.getElementById('shapeOverlay').style.opacity = '0.1';
                }, 1000);
            };
            
            img.onerror = function() {
                // Create a fallback silhouette
                createFallbackImage();
                shapeImage.style.opacity = '1';
                loadingSpinner.style.display = 'none';
                updateShapeBlur();
            };
            
            img.src = currentCountry.image;
        }

        // Create fallback image if the outline fails to load
        function createFallbackImage() {
            // Create a simple SVG with the country name
            const svg = `<svg xmlns="http://www.w3.org/2000/svg" width="400" height="300" viewBox="0 0 400 300">
                <rect width="400" height="300" fill="#0A192F"/>
                <text x="200" y="150" text-anchor="middle" fill="#FFD700" font-family="Arial" font-size="24">
                    ${currentCountry.name} Outline
                </text>
                <text x="200" y="180" text-anchor="middle" fill="#8892B0" font-family="Arial" font-size="16">
                    Outline image failed to load
                </text>
            </svg>`;
            shapeImage.src = 'data:image/svg+xml,' + encodeURIComponent(svg);
        }

        // Update shape blur
        function updateShapeBlur() {
            shapeImage.style.filter = `blur(${blurAmount}px)`;
            updateBlurDisplay();
        }

        // Update blur display
        function updateBlurDisplay() {
            const percentage = Math.max(0, Math.min(100, 100 - (blurAmount * (100/15))));
            blurProgressElement.style.width = percentage + '%';
            
            if (blurAmount >= 12) blurLevelElement.textContent = "VERY BLURRED";
            else if (blurAmount >= 8) blurLevelElement.textContent = "BLURRED";
            else if (blurAmount >= 4) blurLevelElement.textContent = "SOMEWHAT CLEAR";
            else if (blurAmount >= 1) blurLevelElement.textContent = "CLEAR";
            else blurLevelElement.textContent = "VERY CLEAR";
        }

        // Update UI
        function updateUI() {
            guessCountElement.textContent = guesses.length;
            remainingGuessesElement.textContent = remainingGuesses;
            scoreElement.textContent = score;
            
            // Update guesses list
            guessesList.innerHTML = '';
            guesses.forEach((guess, index) => {
                const guessElement = document.createElement('div');
                guessElement.className = `guess-item ${guess.correct ? 'guess-correct' : 'guess-incorrect'}`;
                guessElement.innerHTML = `
                    <div class="guess-info">
                        <div class="guess-country">${guess.country}</div>
                        ${!guess.correct && guess.hint ? `<div class="guess-hint">${guess.hint}</div>` : ''}
                    </div>
                    <div class="guess-status">${guess.correct ? '‚úÖ' : '‚ùå'}</div>
                `;
                guessesList.appendChild(guessElement);
            });
            
            // Scroll to bottom of guesses list
            guessesList.scrollTop = guessesList.scrollHeight;
        }

        // Update suggestions
        function updateSuggestions() {
            const allCountries = countries.map(c => c.name);
            suggestionsBox.innerHTML = '';
            
            allCountries.forEach(country => {
                if (!guesses.some(g => g.country.toLowerCase() === country.toLowerCase())) {
                    const suggestion = document.createElement('div');
                    suggestion.className = 'suggestion-item';
                    suggestion.textContent = country;
                    suggestion.addEventListener('click', () => {
                        guessInput.value = country;
                        suggestionsBox.style.display = 'none';
                    });
                    suggestionsBox.appendChild(suggestion);
                }
            });
        }

        // Handle guess submission
        function submitGuess() {
            if (!gameActive) return;
            
            const guess = guessInput.value.trim();
            if (!guess) return;
            
            // Check if already guessed
            if (guesses.some(g => g.country.toLowerCase() === guess.toLowerCase())) {
                alert('You already guessed this country!');
                return;
            }
            
            const correct = guess.toLowerCase() === currentCountry.name.toLowerCase();
            const guessObj = {
                country: guess,
                correct: correct,
                time: Date.now() - startTime
            };
            
            guesses.push(guessObj);
            remainingGuesses--;
            
            if (correct) {
                // Correct guess
                correctSound.currentTime = 0;
                correctSound.play();
                shapeTextElement.textContent = 'CORRECT! üéâ';
                shapeHintElement.textContent = `It was ${currentCountry.name}!`;
                gameActive = false;
                
                // Increase streak
                streak++;
                localStorage.setItem('shapleStreak', streak.toString());
                updateStreakDisplay();
                
                setTimeout(() => showGameOver(true), 1000);
            } else {
                // Wrong guess
                incorrectSound.currentTime = 0;
                incorrectSound.play();
                shapeTextElement.textContent = 'TRY AGAIN!';
                
                // Reduce blur amount (sharpen shape)
                blurAmount = Math.max(0, blurAmount - 2);
                updateShapeBlur();
                
                // Reduce score
                score = Math.max(0, score - 12);
                
                // Provide hint
                if (remainingGuesses > 0) {
                    guessObj.hint = getHint();
                }
                
                // Check if out of guesses
                if (remainingGuesses <= 0) {
                    gameActive = false;
                    shapeTextElement.textContent = 'OUT OF GUESSES!';
                    shapeHintElement.textContent = `The answer was ${currentCountry.name}`;
                    setTimeout(() => showGameOver(false), 1000);
                }
            }
            
            guessInput.value = '';
            suggestionsBox.style.display = 'none';
            updateUI();
            updateSuggestions();
        }

        // Get hint for wrong guess
        function getHint() {
            const hints = [
                `Continent: ${currentCountry.continent}`,
                `Area: ${currentCountry.area.toLocaleString()} km¬≤`,
                `Hint: ${currentCountry.hint}`,
                `Neighbors: ${currentCountry.neighbors.slice(0, 3).join(', ')}${currentCountry.neighbors.length > 3 ? '...' : ''}`
            ];
            
            return hints[Math.floor(Math.random() * hints.length)];
        }

        // Show game over modal
        function showGameOver(won) {
            const modalTitle = document.getElementById('resultTitle');
            const modalCountry = document.getElementById('modalCountryName');
            const finalScore = document.getElementById('finalScore');
            const totalGuesses = document.getElementById('totalGuesses');
            const timeTaken = document.getElementById('timeTaken');
            const streakBonus = document.getElementById('streakBonus');
            
            if (won) {
                modalTitle.textContent = 'üéâ CORRECT!';
                winSound.play();
                
                // Add streak bonus to score
                const bonus = Math.min(50, streak * 5);
                score += bonus;
                streakBonus.textContent = `+${bonus}`;
            } else {
                modalTitle.textContent = '‚ùå GAME OVER!';
                // Reset streak on loss
                streak = 0;
                localStorage.setItem('shapleStreak', '0');
                updateStreakDisplay();
                streakBonus.textContent = '+0';
            }
            
            modalCountry.textContent = currentCountry.name.toUpperCase();
            finalScore.textContent = score;
            totalGuesses.textContent = guesses.length;
            timeTaken.textContent = Math.round((Date.now() - startTime) / 1000) + 's';
            
            gameOverModal.style.display = 'flex';
        }

        // Skip to next country
        function skipCountry() {
            if (!gameActive) return;
            
            // Get new country that hasn't been guessed today
            const guessedCountries = guesses.map(g => g.country.toLowerCase());
            const availableCountries = countries.filter(c => 
                !guessedCountries.includes(c.name.toLowerCase()) && 
                c.name !== currentCountry.name
            );
            
            if (availableCountries.length > 0) {
                currentCountry = availableCountries[Math.floor(Math.random() * availableCountries.length)];
                blurAmount = 15;
                loadCountryImage();
                shapeTextElement.textContent = 'NEW COUNTRY';
                shapeHintElement.textContent = 'Type your guess in the input below';
                document.getElementById('shapeOverlay').style.opacity = '1';
            } else {
                // All countries guessed
                gameActive = false;
                showGameOver(false);
            }
        }

        // Update daily date
        function updateDailyDate() {
            const now = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            dailyDateElement.textContent = now.toLocaleDateString('en-US', options);
        }

        // Event listeners
        guessInput.addEventListener('input', () => {
            const value = guessInput.value.toLowerCase();
            const suggestions = document.querySelectorAll('.suggestion-item');
            
            if (value.length > 0) {
                suggestionsBox.style.display = 'block';
                suggestions.forEach(suggestion => {
                    suggestion.style.display = suggestion.textContent.toLowerCase().includes(value) ? 'block' : 'none';
                });
            } else {
                suggestionsBox.style.display = 'none';
            }
        });

        guessInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                submitGuess();
            }
        });

        submitBtn.addEventListener('click', submitGuess);
        skipBtn.addEventListener('click', skipCountry);

        // Modal buttons
        document.getElementById('nextCountry').addEventListener('click', () => {
            gameOverModal.style.display = 'none';
            initGame();
        });

        document.getElementById('playAgain').addEventListener('click', () => {
            gameOverModal.style.display = 'none';
            initGame();
        });

        // Hint buttons
        document.getElementById('continentHint').addEventListener('click', () => {
            if (!gameActive || hintsUsed >= 3) return;
            alert(`Continent: ${currentCountry.continent}`);
            score = Math.max(0, score - 20);
            hintsUsed++;
            hintSound.currentTime = 0;
            hintSound.play();
            updateUI();
        });

        document.getElementById('sizeHint').addEventListener('click', () => {
            if (!gameActive || hintsUsed >= 3) return;
            alert(`Area: ${currentCountry.area.toLocaleString()} km¬≤`);
            score = Math.max(0, score - 20);
            hintsUsed++;
            hintSound.currentTime = 0;
            hintSound.play();
            updateUI();
        });

        document.getElementById('neighborHint').addEventListener('click', () => {
            if (!gameActive || hintsUsed >= 3) return;
            const neighbors = currentCountry.neighbors.slice(0, 3).join(', ');
            alert(`Neighbors: ${neighbors}${currentCountry.neighbors.length > 3 ? '...' : ''}`);
            score = Math.max(0, score - 20);
            hintsUsed++;
            hintSound.currentTime = 0;
            hintSound.play();
            updateUI();
        });

        document.getElementById('letterHint').addEventListener('click', () => {
            if (!gameActive || hintsUsed >= 3) return;
            const firstLetter = currentCountry.name.charAt(0);
            alert(`Starts with: ${firstLetter}`);
            score = Math.max(0, score - 30);
            hintsUsed++;
            hintSound.currentTime = 0;
            hintSound.play();
            updateUI();
        });

        // Close suggestions when clicking outside
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.input-container')) {
                suggestionsBox.style.display = 'none';
            }
        });

        // Initialize game
        initStreak();
        initGame();
    </script>
</body>
</html>
