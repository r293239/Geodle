<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XLVG4HKZKP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XLVG4HKZKP');
</script>
    <!-- SEO Meta Tags -->
<meta name="description" content="ðŸŒ Geodle - Daily Geography Challenge Game. Guess countries from clues, test your geography knowledge, and compete with friends worldwide!">
<meta name="keywords" content="geography game, country guessing, daily puzzle, educational game, world countries, geography quiz, Geodle">
<meta name="author" content="Geodle Game">
<meta name="robots" content="index, follow">

<!-- Open Graph Meta Tags -->
<meta property="og:title" content="Geodle - Daily Geography Challenge Game">
<meta property="og:description" content="Test your geography knowledge with daily country guessing challenges. How many clues do you need to guess the mystery country?">
<meta property="og:image" content="https://r293239.github.io/Geodle/assets/geodle-preview.png">
<meta property="og:url" content="https://r293239.github.io/Geodle/">
<meta property="og:type" content="website">
<meta property="og:site_name" content="Geodle">

<!-- Twitter Card Meta Tags -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Geodle - Daily Geography Challenge Game">
<meta name="twitter:description" content="ðŸŒ Guess countries from clues in this addictive geography puzzle game!">
<meta name="twitter:image" content="https://r293239.github.io/Geodle/assets/geodle-preview.png">

<!-- Structured Data for Rich Results -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "Geodle",
  "description": "Daily geography challenge game where players guess countries from progressive clues",
  "url": "https://r293239.github.io/Geodle/",
  "applicationCategory": "GameApplication",
  "operatingSystem": "Any",
  "permissions": "browser",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "SGD"
  },
  "author": {
    "@type": "Organization",
    "name": "Geodle"
  }
}
</script>

<!-- Favicon and App Icons -->
<link rel="icon" href="assets/icon.png" type="image/png">
<link rel="shortcut icon" href="assets/icon.png" type="image/png">
<link rel="apple-touch-icon" href="assets/icon.png">
<link rel="apple-touch-icon-precomposed" href="assets/icon.png">
    
    <meta name="google-site-verification" content="4v_aC03LTCSXTOwGjrpNzbHNAjnB5hESrAOo4pMtIQo" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geodle - Daily Geography Clue Game</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" />
    <!-- Web App Manifest -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#3367D6"/>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            max-width: 520px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            position: relative;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
                        radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.2) 0%, transparent 50%);
            z-index: -1;
            animation: gradientShift 10s ease-in-out infinite;
        }
        
        @keyframes gradientShift {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        /* Three-line Menu Button - Improved */
        #menu-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 10px;
            padding: 12px;
            cursor: pointer;
            z-index: 1001;
            transition: all 0.3s ease;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #menu-button:hover {
            background: rgba(255,255,255,0.25);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        .menu-icon {
            width: 24px;
            height: 18px;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .menu-icon span {
            display: block;
            height: 2px;
            width: 100%;
            background: white;
            border-radius: 1px;
            transition: all 0.25s ease-in-out;
            position: relative;
        }

        .menu-icon span:nth-child(1) {
            transform-origin: center;
        }

        .menu-icon span:nth-child(2) {
            transform-origin: center;
        }

        .menu-icon span:nth-child(3) {
            transform-origin: center;
        }

        /* Menu open animation */
        #menu-button.open .menu-icon span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        #menu-button.open .menu-icon span:nth-child(2) {
            opacity: 0;
            transform: translateX(-20px);
        }

        #menu-button.open .menu-icon span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }

        /* Menu Dropdown */
        #menu-dropdown {
            position: fixed;
            top: 80px;
            left: 20px;
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(20px);
            border-radius: 15px;
            padding: 20px;
            min-width: 240px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            z-index: 1000;
            opacity: 0;
            transform: translateY(-10px);
            pointer-events: none;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        #menu-dropdown.show {
            opacity: 1;
            transform: translateY(0);
            pointer-events: all;
        }

        .menu-item {
            display: block;
            padding: 12px 16px;
            color: #333;
            text-decoration: none;
            border-radius: 8px;
            margin-bottom: 8px;
            font-weight: 500;
            transition: all 0.2s ease;
            cursor: pointer;
            border: none;
            background: none;
            width: 100%;
            text-align: left;
            font-family: inherit;
            font-size: 14px;
        }

        .menu-item:hover {
            background: rgba(102, 126, 234, 0.1);
            transform: translateX(5px);
        }

        .menu-item:last-child {
            margin-bottom: 0;
        }

        /* Toggle Switch Styles */
        .toggle-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 16px;
            color: #333;
            font-weight: 500;
            font-size: 14px;
            margin-bottom: 8px;
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #667eea;
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        /* Language Dropdown */
        .language-dropdown {
            position: relative;
            margin-bottom: 8px;
        }

        .language-selector {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 16px;
            color: #333;
            font-weight: 500;
            font-size: 14px;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.2s ease;
            background: rgba(102, 126, 234, 0.05);
        }

        .language-selector:hover {
            background: rgba(102, 126, 234, 0.1);
        }

        .language-options {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            border: 1px solid rgba(0,0,0,0.1);
            max-height: 0;
            overflow-y: auto;
            transition: all 0.3s ease;
            z-index: 1002;
        }

        .language-options.show {
            max-height: 250px;
        }

        .language-options::-webkit-scrollbar {
            width: 6px;
        }

        .language-options::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.05);
            border-radius: 3px;
        }

        .language-options::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 3px;
        }

        .language-options::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #764ba2, #667eea);
        }

        .language-option {
            padding: 10px 16px;
            color: #333;
            cursor: pointer;
            transition: background 0.2s ease;
            font-size: 13px;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .language-option:last-child {
            border-bottom: none;
        }

        .language-option:hover {
            background: rgba(102, 126, 234, 0.1);
        }

        .language-option.selected {
            background: rgba(102, 126, 234, 0.15);
            font-weight: 600;
        }

        .dropdown-arrow {
            transition: transform 0.3s ease;
        }

        .language-dropdown.open .dropdown-arrow {
            transform: rotate(180deg);
        }

        /* Loading Screen */
        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }

        #loading-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .loading-content {
            text-align: center;
            color: white;
        }

        .loading-logo {
            font-size: 4rem;
            font-weight: 700;
            margin-bottom: 20px;
            text-shadow: 0 4px 20px rgba(0,0,0,0.3);
            animation: logoFloat 2s ease-in-out infinite;
        }

        .loading-text {
            font-size: 1.2rem;
            font-weight: 500;
            margin-bottom: 30px;
            opacity: 0.9;
            animation: fadeInOut 1.5s ease-in-out infinite;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(255,255,255,0.3);
            border-top: 4px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        .loading-dots {
            display: flex;
            gap: 8px;
            margin-top: 20px;
            justify-content: center;
        }

        .loading-dot {
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            animation: dotBounce 1.4s ease-in-out infinite both;
        }

        .loading-dot:nth-child(1) { animation-delay: -0.32s; }
        .loading-dot:nth-child(2) { animation-delay: -0.16s; }
        .loading-dot:nth-child(3) { animation-delay: 0s; }

        @keyframes logoFloat {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        @keyframes fadeInOut {
            0%, 100% {
                opacity: 0.7;
            }
            50% {
                opacity: 1;
            }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes dotBounce {
            0%, 80%, 100% {
                transform: scale(0);
                opacity: 0.5;
            }
            40% {
                transform: scale(1);
                opacity: 1;
            }
        }

        /* One-time Tutorial Styles */
        #tutorial-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 10000;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s ease;
        }

        #tutorial-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        #tutorial-modal {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 24px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow: hidden;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            transform: translateY(50px) scale(0.95);
            opacity: 0;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        #tutorial-overlay.show #tutorial-modal {
            transform: translateY(0) scale(1);
            opacity: 1;
        }

        #tutorial-content {
            padding: 30px;
        }

        .tutorial-slide {
            display: none;
            text-align: center;
        }

        .tutorial-slide.active {
            display: block;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .tutorial-slide h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .tutorial-slide p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 25px;
            font-size: 1.1rem;
        }

        .tutorial-visual {
            background: rgba(102, 126, 234, 0.1);
            border-radius: 16px;
            padding: 20px;
            margin: 25px 0;
            border: 2px dashed rgba(102, 126, 234, 0.3);
            animation: pulseVisual 2s infinite;
        }

        @keyframes pulseVisual {
            0%, 100% {
                border-color: rgba(102, 126, 234, 0.3);
                transform: scale(1);
            }
            50% {
                border-color: rgba(102, 126, 234, 0.6);
                transform: scale(1.02);
            }
        }

        .visual-map {
            width: 100%;
            height: 150px;
            background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
            border-radius: 12px;
            margin-bottom: 15px;
            position: relative;
            overflow: hidden;
        }

        .visual-map::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 30px;
            height: 30px;
            background: linear-gradient(135deg, #ff6b6b 0%, #ff5252 100%);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: pulsePin 2s infinite;
        }

        @keyframes pulsePin {
            0%, 100% {
                transform: translate(-50%, -50%) scale(1);
                box-shadow: 0 0 0 0 rgba(255, 107, 107, 0.7);
            }
            50% {
                transform: translate(-50%, -50%) scale(1.2);
                box-shadow: 0 0 0 10px rgba(255, 107, 107, 0);
            }
        }

        .visual-clue {
            background: white;
            padding: 12px 20px;
            border-radius: 12px;
            font-weight: 500;
            color: #333;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            animation: floatUpDown 3s ease-in-out infinite;
        }

        @keyframes floatUpDown {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        .visual-progress {
            width: 100%;
            height: 20px;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 10px;
            overflow: hidden;
            margin: 15px 0;
        }

        .visual-progress-fill {
            width: 30%;
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            border-radius: 10px;
            animation: progressGrow 3s infinite;
        }

        @keyframes progressGrow {
            0%, 100% { width: 30%; }
            50% { width: 60%; }
        }

        .visual-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #667eea;
            border-radius: 8px;
            font-size: 1rem;
            margin: 15px 0;
            background: white;
            animation: inputFocus 2s infinite;
        }

        @keyframes inputFocus {
            0%, 100% {
                border-color: #667eea;
                box-shadow: 0 0 0 0 rgba(102, 126, 234, 0);
            }
            50% {
                border-color: #4CAF50;
                box-shadow: 0 0 0 5px rgba(76, 175, 80, 0.2);
            }
        }

        .tutorial-dots {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 25px 0;
        }

        .tutorial-dot {
            width: 10px;
            height: 10px;
            background: #ddd;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tutorial-dot.active {
            background: #667eea;
            transform: scale(1.2);
        }

        .tutorial-dot:hover {
            background: #764ba2;
        }

        .tutorial-buttons {
            display: flex;
            justify-content: space-between;
            gap: 15px;
            margin-top: 20px;
        }

        .tutorial-btn {
            flex: 1;
            padding: 14px 24px;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .tutorial-btn.skip {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
        }

        .tutorial-btn.next {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .tutorial-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .tutorial-btn.skip:hover {
            background: rgba(102, 126, 234, 0.2);
        }

        .tutorial-btn.next:hover {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
        }

        .tutorial-btn:active {
            transform: translateY(0);
        }

        .feature-list {
            text-align: left;
            margin: 25px 0;
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
            padding: 12px;
            background: rgba(102, 126, 234, 0.05);
            border-radius: 12px;
            animation: slideInRight 0.5s ease-out;
            animation-fill-mode: both;
        }

        .feature-item:nth-child(1) { animation-delay: 0.1s; }
        .feature-item:nth-child(2) { animation-delay: 0.2s; }
        .feature-item:nth-child(3) { animation-delay: 0.3s; }
        .feature-item:nth-child(4) { animation-delay: 0.4s; }

        .feature-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        .feature-text h4 {
            color: #333;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .feature-text p {
            color: #666;
            font-size: 0.9rem;
            margin: 0;
        }

        /* Enhanced Country Suggestions Dropdown - IMPROVED */
        #countrySuggestions {
            position: absolute;
            top: 100%;
            left: 0;
            width: calc(100% - 120px);
            background: white;
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-top: none;
            border-radius: 0 0 16px 16px;
            max-height: 280px;
            overflow-y: auto;
            box-shadow: 
                0 10px 40px rgba(0, 0, 0, 0.15),
                0 2px 20px rgba(102, 126, 234, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            z-index: 1001;
            display: none;
            animation: dropdownAppear 0.25s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes dropdownAppear {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #countrySuggestions.show {
            display: block;
        }

        .country-suggestion {
            padding: 14px 20px;
            cursor: pointer;
            transition: all 0.2s ease;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            color: #333;
            font-size: 15px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 12px;
            position: relative;
            overflow: hidden;
        }

        .country-suggestion:last-child {
            border-bottom: none;
        }

        .country-suggestion::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(102, 126, 234, 0.05), 
                transparent);
            transition: left 0.5s ease;
        }

        .country-suggestion:hover::before {
            left: 100%;
        }

        .country-suggestion:hover {
            background: rgba(102, 126, 234, 0.08);
            padding-left: 24px;
            transform: translateX(2px);
        }

        .country-suggestion.highlighted {
            background: linear-gradient(90deg, 
                rgba(102, 126, 234, 0.12), 
                rgba(102, 126, 234, 0.08));
            color: #667eea;
            font-weight: 600;
            border-left: 3px solid #667eea;
        }

        /* Flag emoji styling */
        .country-flag {
            font-size: 1.2em;
            min-width: 24px;
            text-align: center;
        }

        .country-name {
            flex: 1;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Match highlight */
        .match-highlight {
            color: #667eea;
            font-weight: 700;
        }

        /* No results message */
        .no-results {
            padding: 20px;
            text-align: center;
            color: #666;
            font-style: italic;
            font-size: 14px;
            background: rgba(0, 0, 0, 0.02);
        }

        /* Scrollbar styling */
        #countrySuggestions::-webkit-scrollbar {
            width: 6px;
        }

        #countrySuggestions::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.04);
            border-radius: 10px;
            margin: 8px 0;
        }

        #countrySuggestions::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        #countrySuggestions::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #764ba2, #667eea);
            width: 10px;
        }

        /* Invisible Easter Egg Button */
        #invisible-btn {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 20px;
            height: 20px;
            background: transparent;
            border: none;
            cursor: default;
            z-index: 999;
            opacity: 0;
        }
        
        h1 {
            text-align: center;
            margin-bottom: 25px;
            font-size: 2.8rem;
            font-weight: 700;
            color: white;
            text-shadow: 0 4px 20px rgba(0,0,0,0.4), 0 0 40px rgba(255,255,255,0.2);
            letter-spacing: -0.02em;
            animation: fadeInDown 0.8s ease;
            position: relative;
        }
        
        #worldMap {
            height: 320px;
            width: 100%;
            border-radius: 20px;
            margin: 25px 0;
            box-shadow: 
                0 20px 60px rgba(0,0,0,0.3),
                inset 0 1px 0 rgba(255,255,255,0.2);
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.2);
            animation: fadeInUp 0.8s ease 0.2s both;
            transition: transform 0.3s ease;
        }
        
        #worldMap:hover {
            transform: translateY(-2px) scale(1.001);
        }
        
        #clueBox {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(20px) saturate(180%);
            padding: 24px;
            margin: 25px 0;
            font-weight: 500;
            font-size: 1.25em;
            border-radius: 18px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.3);
            box-shadow: 
                0 15px 50px rgba(0,0,0,0.2),
                inset 0 1px 0 rgba(255,255,255,0.4);
            color: #333;
            animation: fadeInUp 0.8s ease 0.3s both;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        #clueBox::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 2s ease;
        }
        
        #clueBox:hover::before {
            left: 100%;
        }
        
        #clueBox:hover {
            transform: translateY(-3px);
            box-shadow: 
                0 20px 60px rgba(0,0,0,0.25),
                inset 0 1px 0 rgba(255,255,255,0.5);
        }
        
        #progressInfo {
            text-align: center;
            margin: 20px 0;
            font-size: 1.1em;
            color: rgba(255,255,255,0.95);
            font-weight: 500;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
            animation: fadeInUp 0.8s ease 0.4s both;
        }
        
        #progressBar {
            width: 100%;
            height: 28px;
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            border-radius: 14px;
            overflow: hidden;
            margin: 15px 0;
            border: 1px solid rgba(255,255,255,0.2);
            box-shadow: 
                inset 0 2px 4px rgba(0,0,0,0.1),
                0 4px 20px rgba(0,0,0,0.1);
            position: relative;
        }
        
        #progressFill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #8BC34A, #CDDC39);
            transition: width 1s cubic-bezier(0.4, 0, 0.2, 1);
            width: 10%;
            border-radius: 14px;
            box-shadow: 
                0 0 30px rgba(76, 175, 80, 0.6),
                inset 0 1px 0 rgba(255,255,255,0.3);
            position: relative;
            overflow: hidden;
        }
        
        #progressFill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shimmer 2s infinite;
            border-radius: 14px;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        #guessForm {
            position: relative;
            display: flex;
            gap: 2px;
            margin-bottom: 20px;
            animation: fadeInUp 0.8s ease 0.5s both;
        }
        
        #guessInput {
            flex: 1;
            font-size: 1.1em;
            padding: 18px 22px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 16px 0 0 16px;
            outline: none;
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(20px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 400;
            color: #333;
            font-family: inherit;
            position: relative;
            z-index: 1001;
        }
        
        #guessInput:focus {
            border-color: #4CAF50;
            box-shadow: 
                0 0 30px rgba(76, 175, 80, 0.4),
                inset 0 1px 0 rgba(255,255,255,0.5);
            transform: translateY(-2px);
            background: rgba(255,255,255,1);
        }
        
        #guessInput::placeholder {
            color: rgba(0,0,0,0.5);
            transition: opacity 0.3s ease;
        }
        
        #guessInput:focus::placeholder {
            opacity: 0.7;
        }
        
        #guessButton {
            padding: 18px 26px;
            font-size: 1.1em;
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 0 16px 16px 0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            position: relative;
            overflow: hidden;
            font-family: inherit;
            box-shadow: 0 8px 25px rgba(40, 167, 69, 0.4);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }
        
        #guessButton::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s ease;
        }
        
        #guessButton:hover:not(:disabled)::before {
            left: 100%;
        }
        
        #guessButton:hover:not(:disabled) {
            background: linear-gradient(135deg, #218838, #1e7e34);
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(40, 167, 69, 0.5);
        }
        
        #guessButton:active {
            transform: translateY(0);
        }
        
        #guessButton:disabled {
            background: linear-gradient(135deg, #6c757d, #5a6268);
            cursor: not-allowed;
            transform: none;
            box-shadow: 0 4px 15px rgba(108, 117, 125, 0.3);
            color: rgba(255,255,255,0.8);
        }
        
        #feedback {
            text-align: center;
            font-weight: 600;
            margin: 20px 0;
            padding: 16px;
            border-radius: 12px;
            transition: all 0.4s ease;
            font-size: 1.1em;
            min-height: 20px;
            backdrop-filter: blur(10px);
        }
        
        /* Mode Selector Styles */
        .mode-selector {
            background: rgba(255,255,255,0.12);
            backdrop-filter: blur(20px) saturate(180%);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            text-align: center;
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
            animation: fadeInUp 0.8s ease 0.1s both;
            box-shadow: 
                0 15px 50px rgba(0,0,0,0.15),
                inset 0 1px 0 rgba(255,255,255,0.2);
        }

        .mode-selector h3 {
            margin-bottom: 20px;
            font-size: 1.4rem;
            font-weight: 600;
            text-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .mode-btn {
            background: rgba(255,255,255,0.15);
            color: white;
            border: 2px solid rgba(255,255,255,0.25);
            padding: 14px 24px;
            margin: 0 8px 12px 8px;
            border-radius: 14px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-decoration: none;
            display: inline-block;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .mode-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s ease;
        }

        .mode-btn:hover::before {
            left: 100%;
        }

        .mode-btn:hover {
            background: rgba(255,255,255,0.25);
            border-color: rgba(255,255,255,0.4);
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.2);
            color: white;
            text-decoration: none;
        }

        .mode-btn.active {
            background: linear-gradient(135deg, #FF6B6B, #FF5252);
            border-color: rgba(255,255,255,0.3);
            color: white;
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
        }

        .mode-btn.active:hover {
            background: linear-gradient(135deg, #FF5252, #FF3D3D);
            box-shadow: 0 10px 35px rgba(255, 107, 107, 0.5);
        }

        .mode-description {
            font-size: 0.95rem;
            margin-top: 15px;
            opacity: 0.9;
            font-weight: 300;
            text-shadow: 0 1px 5px rgba(0,0,0,0.2);
        }
        
        /* Card Styles */
        .glass-card {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(20px) saturate(180%);
            border-radius: 18px;
            padding: 24px;
            margin: 20px 0;
            box-shadow: 
                0 15px 50px rgba(0,0,0,0.15),
                inset 0 1px 0 rgba(255,255,255,0.4);
            border: 1px solid rgba(255,255,255,0.3);
            animation: fadeInUp 0.6s ease both;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .glass-card:hover {
            transform: translateY(-3px);
            box-shadow: 
                0 20px 60px rgba(0,0,0,0.2),
                inset 0 1px 0 rgba(255,255,255,0.5);
        }
        
        .glass-card h3 {
            margin-bottom: 18px;
            color: #333;
            font-weight: 600;
            font-size: 1.3em;
        }
        
        #pastHints, #history {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(20px) saturate(180%);
            border-radius: 18px;
            padding: 24px;
            margin: 20px 0;
            box-shadow: 
                0 15px 50px rgba(0,0,0,0.15),
                inset 0 1px 0 rgba(255,255,255,0.4);
            border: 1px solid rgba(255,255,255,0.3);
            animation: fadeInUp 0.6s ease both;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        #pastHints:hover, #history:hover {
            transform: translateY(-3px);
            box-shadow: 
                0 20px 60px rgba(0,0,0,0.2),
                inset 0 1px 0 rgba(255,255,255,0.5);
        }
        
        #pastHints h3, #history h3 {
            margin-bottom: 18px;
            color: #333;
            font-weight: 600;
            font-size: 1.3em;
        }
        
        #pastHintsList, #historyList {
            list-style: none;
            padding-left: 0;
            max-height: 220px;
            overflow-y: auto;
        }
        
        #pastHintsList::-webkit-scrollbar, #historyList::-webkit-scrollbar {
            width: 8px;
        }
        
        #pastHintsList::-webkit-scrollbar-track, #historyList::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.05);
            border-radius: 4px;
        }
        
        #pastHintsList::-webkit-scrollbar-thumb, #historyList::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 4px;
            transition: background 0.3s ease;
        }
        
        #pastHintsList::-webkit-scrollbar-thumb:hover, #historyList::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #764ba2, #667eea);
        }
        
        #pastHintsList li {
            padding: 14px 18px;
            background: linear-gradient(135deg, #e8f5e8, #f0f8f0);
            margin-bottom: 10px;
            border-radius: 12px;
            font-size: 0.95em;
            border-left: 4px solid #4CAF50;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            animation: slideInLeft 0.5s ease;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        #pastHintsList li:hover {
            transform: translateX(8px) translateY(-1px);
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.2);
            background: linear-gradient(135deg, #dff5df, #e8f5e8);
        }
        
        #historyList li {
            padding: 16px 20px;
            background: rgba(255,255,255,0.8);
            margin-bottom: 10px;
            border-radius: 14px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            font-size: 0.95em;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            animation: slideInRight 0.5s ease;
            border: 1px solid rgba(0,0,0,0.05);
            backdrop-filter: blur(10px);
        }
        
        #historyList li:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(0,0,0,0.15);
        }
        
        #historyList li.correct {
            background: linear-gradient(135deg, rgba(200, 230, 201, 0.9), rgba(232, 245, 232, 0.9));
            color: #2e7d32;
            border-left: 4px solid #4CAF50;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.2);
        }
        
        #historyList li.incorrect {
            background: linear-gradient(135deg, rgba(255, 205, 210, 0.9), rgba(255, 235, 238, 0.9));
            color: #c62828;
            border-left: 4px solid #f44336;
            box-shadow: 0 4px 15px rgba(244, 67, 54, 0.2);
        }
        
        #streak {
            text-align: center;
            font-size: 1.25em;
            margin: 20px 0;
            color: white;
            font-weight: 600;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
            padding: 20px;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(20px);
            border-radius: 16px;
            border: 1px solid rgba(255,255,255,0.2);
            animation: fadeInUp 0.8s ease 0.6s both;
            box-shadow: 
                0 10px 40px rgba(0,0,0,0.1),
                inset 0 1px 0 rgba(255,255,255,0.2);
        }
        
        /* Enhanced Button Styles */
        .btn {
            padding: 14px 24px;
            border: none;
            border-radius: 14px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 700;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-transform: uppercase;
            letter-spacing: 0.8px;
            position: relative;
            overflow: hidden;
            margin: 8px;
            font-family: inherit;
            backdrop-filter: blur(10px);
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s ease;
        }
        
        .btn:hover::before {
            left: 100%;
        }
        
        .btn:hover {
            transform: translateY(-3px);
        }
        
        .btn:active {
            transform: translateY(-1px);
        }
        
        #resetBtn {
            background: linear-gradient(135deg, #dc3545, #bd2130);
            color: white;
            box-shadow: 0 8px 25px rgba(220, 53, 69, 0.4);
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        #resetBtn:hover {
            background: linear-gradient(135deg, #c82333, #a71e2a);
            box-shadow: 0 12px 35px rgba(220, 53, 69, 0.5);
            transform: translateY(-3px);
        }
        
        #resetWinsBtn {
            background: linear-gradient(135deg, #6f42c1, #5a2d91);
            color: white;
            box-shadow: 0 8px 25px rgba(111, 66, 193, 0.4);
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        #resetWinsBtn:hover {
            background: linear-gradient(135deg, #5a2d91, #4e2779);
            box-shadow: 0 12px 35px rgba(111, 66, 193, 0.5);
            transform: translateY(-3px);
        }
        
        #endScreen {
            background: linear-gradient(135deg, rgba(194, 240, 194, 0.95), rgba(168, 230, 168, 0.95));
            backdrop-filter: blur(20px);
            padding: 30px;
            border-radius: 20px;
            margin-top: 25px;
            text-align: center;
            display: none;
            border: 1px solid rgba(255,255,255,0.3);
            box-shadow: 
                0 20px 60px rgba(0,0,0,0.2),
                inset 0 1px 0 rgba(255,255,255,0.4);
            animation: bounceIn 0.8s ease;
        }
        
        #shareBtn, #newGameBtn {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            margin: 10px 8px;
            box-shadow: 0 8px 25px rgba(0, 123, 255, 0.4);
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        #shareBtn:hover, #newGameBtn:hover {
            background: linear-gradient(135deg, #0056b3, #004085);
            box-shadow: 0 12px 35px rgba(0, 123, 255, 0.5);
            transform: translateY(-3px);
        }
        
        #newGameBtn {
            background: linear-gradient(135deg, #fd7e14, #e8590c);
            box-shadow: 0 8px 25px rgba(253, 126, 20, 0.4);
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        #newGameBtn:hover {
            background: linear-gradient(135deg, #e8590c, #d63384);
            box-shadow: 0 12px 35px rgba(253, 126, 20, 0.5);
            transform: translateY(-3px);
        }
        
        #dailyLimitMsg, #loadingError {
            background: linear-gradient(135deg, rgba(255, 211, 211, 0.95), rgba(255, 235, 238, 0.95));
            backdrop-filter: blur(20px);
            border: 1px solid #d64c4c;
            padding: 24px;
            border-radius: 18px;
            text-align: center;
            color: #d64c4c;
            font-weight: 600;
            margin: 25px 0;
            box-shadow: 
                0 15px 50px rgba(214, 76, 76, 0.2),
                inset 0 1px 0 rgba(255,255,255,0.3);
            animation: shakeX 0.8s ease;
        }
        
        #help-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 16px 28px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(0, 123, 255, 0.4);
            text-decoration: none;
            z-index: 9999;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
            font-family: inherit;
        }

        #help-button:hover {
            background: linear-gradient(135deg, #0056b3, #004085);
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 15px 40px rgba(0, 123, 255, 0.5);
            color: white;
            text-decoration: none;
        }
        
        /* Enhanced Animations */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-40px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(40px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: scale(0.3);
            }
            50% {
                transform: scale(1.05);
            }
            70% {
                transform: scale(0.9);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        @keyframes shakeX {
            0%, 100% {
                transform: translateX(0);
            }
            10%, 30%, 50%, 70%, 90% {
                transform: translateX(-8px);
            }
            20%, 40%, 60%, 80% {
                transform: translateX(8px);
            }
        }
        
        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            body {
                padding: 15px;
            }
            
            h1 {
                font-size: 2.2rem;
                margin-bottom: 20px;
            }

            #menu-button {
                top: 15px;
                left: 15px;
            }

            #menu-dropdown {
                top: 75px;
                left: 15px;
                right: 15px;
                width: auto;
            }
            
            .mode-btn {
                display: block;
                margin: 12px auto;
                width: 90%;
                max-width: 280px;
                padding: 16px 20px;
            }
            
            #worldMap {
                height: 280px;
                margin: 20px 0;
            }
            
            #clueBox {
                font-size: 1.1em;
                padding: 20px 16px;
            }
            
            #guessForm {
                flex-direction: row;
                gap: 10px;
            }
            
            #guessInput, #guessButton {
                border-radius: 16px 0 0 16px;
            }
            
            #guessInput {
                padding: 16px 18px;
                border-radius: 16px 0 0 16px !important;
            }
            
            #guessButton {
                padding: 16px 20px;
                border-radius: 0 16px 16px 0 !important;
            }
            
            /* Country suggestions mobile */
            #countrySuggestions {
                width: calc(100% - 100px);
                left: 0;
                border-radius: 0 0 12px 12px;
                max-height: 220px;
            }
            
            #pastHints, #history {
                padding: 20px 16px;
            }
            
            .btn {
                padding: 12px 20px;
                font-size: 0.9em;
            }
            
            #help-button {
                bottom: 20px;
                right: 20px;
                padding: 14px 22px;
                font-size: 13px;
            }
            
            /* Tutorial mobile responsiveness */
            #tutorial-modal {
                width: 95%;
                margin: 10px;
            }
            
            #tutorial-content {
                padding: 20px;
            }
            
            .tutorial-slide h2 {
                font-size: 1.8rem;
            }
            
            .tutorial-slide p {
                font-size: 1rem;
            }
            
            .visual-map {
                height: 120px;
            }
            
            .tutorial-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .tutorial-btn {
                width: 100%;
            }
            
            /* Loading screen mobile */
            .loading-logo {
                font-size: 3rem;
            }
            
            .loading-text {
                font-size: 1rem;
            }
        }
        
        @media (max-width: 480px) {
            body {
                padding: 12px;
            }
            
            h1 {
                font-size: 1.9rem;
            }
            
            #worldMap {
                height: 240px;
            }
            
            .mode-selector {
                padding: 20px 16px;
            }
            
            .mode-btn {
                width: 95%;
                padding: 14px 18px;
                font-size: 0.95rem;
            }
            
            #clueBox {
                font-size: 1.05em;
                padding: 18px 14px;
            }
            
            /* Country suggestions small screens */
            #countrySuggestions {
                width: calc(100% - 90px);
                max-height: 200px;
            }
            
            .country-suggestion {
                padding: 10px 14px;
                font-size: 13px;
            }
            
            .country-flag {
                font-size: 1.1em;
                min-width: 22px;
            }
            
            #pastHints, #history {
                padding: 18px 14px;
            }
            
            #pastHintsList, #historyList {
                max-height: 180px;
            }
            
            .btn {
                padding: 12px 18px;
                font-size: 0.85em;
                margin: 6px;
            }
            
            #endScreen {
                padding: 24px 18px;
            }
            
            /* Tutorial mobile small screens */
            #tutorial-content {
                padding: 15px;
            }
            
            .tutorial-slide h2 {
                font-size: 1.5rem;
                margin-bottom: 15px;
            }
            
            .tutorial-slide p {
                font-size: 0.95rem;
                margin-bottom: 20px;
            }
            
            .tutorial-visual {
                padding: 15px;
                margin: 20px 0;
            }
            
            .feature-item {
                flex-direction: column;
                text-align: center;
                gap: 10px;
                padding: 15px;
            }
            
            /* Loading screen small */
            .loading-logo {
                font-size: 2.5rem;
            }
        }
        
        /* Smooth scroll behavior */
        html {
            scroll-behavior: smooth;
        }
        
        /* Focus styles for accessibility */
        button:focus,
        input:focus,
        a:focus {
            outline: 2px solid rgba(255,255,255,0.8);
            outline-offset: 2px;
        }
        
        /* Loading states */
        .loading {
            opacity: 0.7;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        
        /* Pulse animation for loading */
        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }
        
        .pulse {
            animation: pulse 1.5s ease-in-out infinite;
        }

        /* Terms & Cookies Consent Banner */
        #consent-banner {
            position: fixed;
            bottom: -100px;
            left: 0;
            width: 100%;
            background-color: #222;
            color: #fff;
            padding: 15px 20px;
            font-family: Arial, sans-serif;
            font-size: 14px;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.5);
            z-index: 1000;
            transition: bottom 0.5s ease-in-out;
        }
        #consent-banner.show { bottom: 0; }
        #consent-banner button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 8px 15px;
            cursor: pointer;
            border-radius: 5px;
            font-size: 14px;
            margin-left: 10px;
        }
        #consent-banner button:hover { background-color: #45a049; }
        #consent-banner a {
            color: #4CAF50;
            text-decoration: underline;
            margin-left: 5px;
            cursor: pointer;
        }
        #consent-banner span { flex: 1 1 auto; margin-right: 10px; }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow-y: auto;
            background-color: rgba(0,0,0,0.6);
        }
        .modal-content {
            background-color: #fff;
            margin: 50px auto;
            padding: 20px;
            border-radius: 10px;
            max-width: 700px;
            font-family: Arial, sans-serif;
            color: #000;
            line-height: 1.5;
            position: relative;
        }
        .modal-content h2 { text-align: center; }
        .modal-content h3 { margin-top: 15px; }
        .close-modal {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 18px;
            cursor: pointer;
            background: none;
            border: none;
        }
    </style>
</head>
<body>

<!-- Loading Screen -->
<div id="loading-screen">
    <div class="loading-content">
        <div class="loading-logo">Geodle</div>
        <div class="loading-text">Loading geography data...</div>
        <div class="loading-spinner"></div>
        <div class="loading-dots">
            <div class="loading-dot"></div>
            <div class="loading-dot"></div>
            <div class="loading-dot"></div>
        </div>
    </div>
</div>

<!-- One-time Tutorial -->
<div id="tutorial-overlay">
    <div id="tutorial-modal">
        <div id="tutorial-content">
            <!-- Slide 1: Welcome -->
            <div class="tutorial-slide active" id="slide1">
                <h2>ðŸŽ® Welcome to Geodle!</h2>
                <p>Guess countries from progressive clues in this daily geography challenge.</p>
                <div class="tutorial-visual">
                    <div class="visual-map"></div>
                    <div class="visual-clue">ðŸ“ Clue appears here</div>
                </div>
                <div class="tutorial-dots">
                    <div class="tutorial-dot active" data-slide="1"></div>
                    <div class="tutorial-dot" data-slide="2"></div>
                    <div class="tutorial-dot" data-slide="3"></div>
                    <div class="tutorial-dot" data-slide="4"></div>
                </div>
                <div class="tutorial-buttons">
                    <button class="tutorial-btn skip" id="skip-tutorial">Skip Tutorial</button>
                    <button class="tutorial-btn next" id="next-slide">Next</button>
                </div>
            </div>

            <!-- Slide 2: How to Play -->
            <div class="tutorial-slide" id="slide2">
                <h2>ðŸŽ¯ How to Play</h2>
                <p>You'll get 10 clues to guess the mystery country. Each clue reveals more information.</p>
                <div class="tutorial-visual">
                    <div class="visual-progress">
                        <div class="visual-progress-fill"></div>
                    </div>
                    <div class="visual-clue">Progress bar shows your clue count</div>
                </div>
                <div class="tutorial-dots">
                    <div class="tutorial-dot" data-slide="1"></div>
                    <div class="tutorial-dot active" data-slide="2"></div>
                    <div class="tutorial-dot" data-slide="3"></div>
                    <div class="tutorial-dot" data-slide="4"></div>
                </div>
                <div class="tutorial-buttons">
                    <button class="tutorial-btn skip" id="prev-slide">Back</button>
                    <button class="tutorial-btn next" id="next-slide-2">Next</button>
                </div>
            </div>

            <!-- Slide 3: Features -->
            <div class="tutorial-slide" id="slide3">
                <h2>âœ¨ Key Features</h2>
                <div class="feature-list">
                    <div class="feature-item">
                        <div class="feature-icon">ðŸŒ</div>
                        <div class="feature-text">
                            <h4>Interactive Map</h4>
                            <p>Explore the world map as you play</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">ðŸ“Š</div>
                        <div class="feature-text">
                            <h4>Track Progress</h4>
                            <p>Monitor your streak and total wins</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">ðŸ”„</div>
                        <div class="feature-text">
                            <h4>Multiple Modes</h4>
                            <p>Try different game modes for variety</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">ðŸŒ</div>
                        <div class="feature-text">
                            <h4>Multi-language</h4>
                            <p>Play in your preferred language</p>
                        </div>
                    </div>
                </div>
                <div class="tutorial-dots">
                    <div class="tutorial-dot" data-slide="1"></div>
                    <div class="tutorial-dot" data-slide="2"></div>
                    <div class="tutorial-dot active" data-slide="3"></div>
                    <div class="tutorial-dot" data-slide="4"></div>
                </div>
                <div class="tutorial-buttons">
                    <button class="tutorial-btn skip" id="prev-slide-2">Back</button>
                    <button class="tutorial-btn next" id="next-slide-3">Next</button>
                </div>
            </div>

            <!-- Slide 4: Tips & Start -->
            <div class="tutorial-slide" id="slide4">
                <h2>ðŸš€ Ready to Play!</h2>
                <p>Here are some tips to get you started:</p>
                <div class="feature-list">
                    <div class="feature-item">
                        <div class="feature-icon">ðŸ’¡</div>
                        <div class="feature-text">
                            <h4>Think Broadly</h4>
                            <p>Early clues are general - think continents, regions</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">ðŸŽ¯</div>
                        <div class="feature-text">
                            <h4>Use History</h4>
                            <p>Review past hints to narrow down options</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">ðŸ†</div>
                        <div class="feature-text">
                            <h4>Build Streak</h4>
                            <p>Win consecutive games to increase your streak</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">ðŸŒ</div>
                        <div class="feature-text">
                            <h4>Explore Modes</h4>
                            <p>Try different game modes for new challenges</p>
                        </div>
                    </div>
                </div>
                <div class="tutorial-dots">
                    <div class="tutorial-dot" data-slide="1"></div>
                    <div class="tutorial-dot" data-slide="2"></div>
                    <div class="tutorial-dot" data-slide="3"></div>
                    <div class="tutorial-dot active" data-slide="4"></div>
                </div>
                <div class="tutorial-buttons">
                    <button class="tutorial-btn skip" id="prev-slide-3">Back</button>
                    <button class="tutorial-btn next" id="start-playing">Start Playing!</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Three-line Menu Button -->
<div id="menu-button">
    <div class="menu-icon">
        <span></span>
        <span></span>
        <span></span>
    </div>
</div>

<!-- Menu Dropdown -->
<div id="menu-dropdown">
    <button class="menu-item" id="menu-terms">ðŸ“„ Terms & Conditions</button>
    <button class="menu-item" id="menu-privacy">ðŸ”’ Privacy Policy</button>
    <button class="menu-item" id="menu-tutorial">ðŸŽ“ Show Tutorial Again</button>
    
    <!-- Language Selector -->
    <div class="language-dropdown" id="language-dropdown">
        <div class="language-selector" id="language-selector">
            <span>ðŸŒ <span id="current-language">English</span></span>
            <span class="dropdown-arrow">â–¼</span>
        </div>
        <div class="language-options" id="language-options">
            <div class="language-option selected" data-lang="en" data-name="English">ðŸ‡ºðŸ‡¸ English</div>
            <div class="language-option" data-lang="es" data-name="EspaÃ±ol">ðŸ‡ªðŸ‡¸ EspaÃ±ol</div>
            <div class="language-option" data-lang="fr" data-name="FranÃ§ais">ðŸ‡«ðŸ‡· FranÃ§ais</div>
            <div class="language-option" data-lang="de" data-name="Deutsch">ðŸ‡©ðŸ‡ª Deutsch</div>
            <div class="language-option" data-lang="it" data-name="Italiano">ðŸ‡®ðŸ‡¹ Italiano</div>
            <div class="language-option" data-lang="pt" data-name="PortuguÃªs">ðŸ‡µðŸ‡¹ PortuguguÃªs</div>
            <div class="language-option" data-lang="ru" data-name="Ð ÑƒÑÑÐºÐ¸Ð¹">ðŸ‡·ðŸ‡º Ð ÑƒÑÑÐºÐ¸Ð¹</div>
            <div class="language-option" data-lang="zh" data-name="ä¸­æ–‡">ðŸ‡¨ðŸ‡³ ä¸­æ–‡</div>
            <div class="language-option" data-lang="ja" data-name="æ—¥æœ¬èªž">ðŸ‡¯ðŸ‡µ æ—¥æœ¬èªž</div>
            <div class="language-option" data-lang="ko" data-name="í•œêµ­ì–´">ðŸ‡°ðŸ‡· í•œêµ­ì–´</div>
        </div>
    </div>
    
    <!-- Music Toggle -->
    <div class="toggle-item">
        <span>ðŸŽµ <span data-translate="music">Music</span></span>
        <label class="switch">
            <input type="checkbox" id="music-toggle">
            <span class="slider"></span>
        </label>
    </div>
</div>

<!-- Invisible Easter Egg Button -->
<button id="invisible-btn"></button>

<h1 data-translate="title">Geodle ðŸŒ</h1>

<!-- Mode Selector -->
<div class="mode-selector">
    <h3 data-translate="gameModes">Game Modes</h3>
    <a href="https://r293239.github.io/Geodle/path-mode.html" class="mode-btn active" id="pathModeBtn">
        <span data-translate="pathMode">Routele</span>
    </a>
    <a href="country-mode.html" class="mode-btn" id="countryModeBtn">
        <span data-translate="countryMode">Countryle</span>
    </a>
    <a href="flag-mode.html" class="mode-btn" id="flagModeBtn">
        <span data-translate="flagMode">Flagle</span>
    </a>
    <a href="https://r293239.github.io/Geodle/civile" class="mode-btn" id="civileModeBtn">
        <span>Civile</span>
    </a>
    <a href="https://r293239.github.io/Geodle/bordle" class="mode-btn" id="bordleModeBtn">
        <span>Bordle</span>
    </a>
    <div class="mode-description">
        <span id="modeDescription" data-translate="pathModeDesc">Get geographic clues and guess the mystery location!</span>
    </div>
</div>

<div id="worldMap"></div>
<div id="progressInfo">
    <div><span data-translate="clue">Clue</span> <span id="currentClue">1</span> <span data-translate="of">of</span> 10</div>
    <div id="progressBar">
        <div id="progressFill"></div>
    </div>
</div>
<div id="clueBox" data-translate="loadingClue">Loading clue...</div>
<form id="guessForm">
    <input type="text" id="guessInput" data-translate-placeholder="guessPlaceholder" placeholder="Type your guess here" autocomplete="off" />
    <div id="countrySuggestions" class="country-suggestions"></div>
    <button id="guessButton" type="submit" data-translate="guess">Guess</button>
</form>
<div id="feedback"></div>
<div id="streak">ðŸ† <span data-translate="totalWins">Total Wins</span>: 0</div>
<div style="text-align: center;">
    <button id="resetBtn" class="btn">ðŸ”„ <span data-translate="resetGame">Reset Game</span></button>
    <button id="resetWinsBtn" class="btn">ðŸ† <span data-translate="resetWinCount">Reset Win Count</span></button>
</div>
<div id="pastHints">
    <h3 data-translate="pastHints">Past Hints</h3>
    <ul id="pastHintsList"></ul>
</div>
<div id="history">
    <h3 data-translate="guessHistory">Guess History</h3>
    <ul id="historyList"></ul>
</div>
<div id="endScreen">
    <div id="resultMsg"></div>
    <button id="shareBtn" class="btn" data-translate="shareScore">Share My Score</button>
    <button id="newGameBtn" class="btn" data-translate="newGame">New Game</button>
</div>
<div id="dailyLimitMsg" style="display:none;">
    <span data-translate="dailyLimit">You've already played today! Come back tomorrow ðŸ‘€</span>
</div>
<div id="loadingError">
    <h3>âš ï¸ <span data-translate="dataLoadingError">Data Loading Error</span></h3>
    <p data-translate="dataLoadingErrorDesc">There has been an error on our side. Please report to a developer. Thanks!</p>
</div>

<!-- Sticky Help Button -->
<a id="help-button" 
   href="https://docs.google.com/forms/d/e/1FAIpQLSf66hYSFxnaQXvXmHlWU2MIGwIn3dkmiQ5iguGazXRKw4cSEg/viewform?usp=sharing&ouid=111077547070042896084" 
   target="_blank" 
   rel="noopener noreferrer">
    <span data-translate="helpImprove">Help Us Improve</span>
</a>

<!-- Terms & Cookies Consent Banner -->
<div id="consent-banner">
    <span>
        We use cookies to improve your experience. By using this site, you agree to our 
        <a id="open-terms">Terms & Conditions</a> and 
        <a id="open-privacy">Privacy Policy</a>.
    </span>
    <button id="accept-btn">Accept</button>
</div>

<!-- Terms Modal -->
<div id="terms-modal" class="modal">
    <div class="modal-content">
        <button class="close-modal" id="close-terms">&times;</button>
        <h2>Terms & Conditions</h2>
        <p>Effective Date: August 21, 2025</p>

        <h3>1. Agreement to Terms</h3>
        <p>By clicking "I Agree" or by opening and playing the Game, you acknowledge that:</p>
        <ul>
            <li>You have read, understood, and accepted these Terms and the associated Privacy Policy.</li>
            <li>Your use of the Game is voluntary and at your own risk.</li>
            <li>You agree to comply with all rules and restrictions outlined in these Terms.</li>
        </ul>
        <p>If you do not agree with any part of these Terms, you must not use the Game.</p>

        <h3>2. Use of the Game</h3>
        <ul>
            <li>Geodle is intended for entertainment and educational purposes only.</li>
            <li>You may use the Game on your personal device only. You may not:
                <ul>
                    <li>Copy, distribute, modify, or create derivative works without permission</li>
                    <li>Reverse engineer or attempt to extract the source code</li>
                    <li>Use the Game for commercial purposes without written consent</li>
                </ul>
            </li>
            <li>We may update or modify the Game at any time. Continued use constitutes acceptance of updates.</li>
        </ul>

        <h3>3. Account and Data</h3>
        <ul>
            <li>Geodle does not require personal accounts. All game progress, scores, and settings are stored locally on your device via local storage.</li>
            <li>You are responsible for maintaining your local storage. We are not responsible for lost progress due to clearing storage or device changes.</li>
            <li>The Game does not collect, transmit, or store personal information externally.</li>
        </ul>

        <h3>4. Content and Intellectual Property</h3>
        <ul>
            <li>All content, including graphics, text, sounds, and mechanics, is owned by Reuben Yee or used with permission.</li>
            <li>You may not reproduce, distribute, publicly display, or create derivative works without written consent.</li>
            <li>Any feedback or suggestions you provide become our property and may be used to improve the Game.</li>
        </ul>

        <h3>5. Third-Party Services</h3>
        <ul>
            <li>The Game may link to external websites. We are not responsible for content or privacy practices of these sites.</li>
        </ul>

        <h3>6. Children</h3>
        <ul>
            <li>The Game is safe for all ages. No personal info is collected, so children under 13 can play safely.</li>
            <li>Parents/guardians can manage local storage to remove game data at any time.</li>
        </ul>

        <h3>7. Limitation of Liability</h3>
        <ul>
            <li>The Game is provided "as is" without warranties.</li>
            <li>We are not responsible for any damages or losses arising from:
                <ul>
                    <li>Use of the Game</li>
                    <li>Loss of local storage data</li>
                    <li>Technical issues or interruptions</li>
                </ul>
            </li>
            <li>By agreeing, you acknowledge you use the Game at your own risk.</li>
        </ul>

        <h3>8. Governing Law</h3>
        <p>These Terms are governed by Singapore law.</p>

        <h3>9. Changes to Terms</h3>
        <p>We may update these Terms. Continued use constitutes acceptance of updates.</p>

        <h3>10. Contact</h3>
        <p>Email: reubenyee2012@gmail.com</p>
    </div>
</div>

<!-- Privacy Modal -->
<div id="privacy-modal" class="modal">
    <div class="modal-content">
        <button class="close-modal" id="close-privacy">&times;</button>
        <h2>Privacy Policy</h2>
        <p>Effective Date: August 21, 2025</p>

        <h3>1. Information We Collect</h3>
        <p>Geodle does not collect personal information. The only information stored locally on your device includes:</p>
        <ul>
            <li>Game progress</li>
            <li>High scores</li>
            <li>User settings (sound, difficulty, themes)</li>
        </ul>

        <h3>2. Local Storage</h3>
        <ul>
            <li>All data is stored locally and is not transmitted to any server.</li>
            <li>You can clear your local storage at any time, which will reset all progress and settings.</li>
        </ul>

        <h3>3. No Tracking or Analytics</h3>
        <p>No cookies, tracking, analytics, or third-party scripts are used to collect data beyond local storage.</p>

        <h3>4. Children's Privacy</h3>
        <ul>
            <li>Game is safe for children under 13.</li>
            <li>Parents can manage local storage to remove saved data.</li>
        </ul>

        <h3>5. Data Retention</h3>
        <p>All game progress and settings remain on your device until you clear local storage.</p>

        <h3>6. Your Rights</h3>
        <ul>
            <li>You do not need to request access or deletion because no personal info is collected.</li>
            <li>Clearing local storage deletes all saved data.</li>
        </ul>

        <h3>7. International Users</h3>
        <p>The Game can be accessed worldwide. No personal info is transmitted across borders.</p>

        <h3>8. Third-Party Links</h3>
        <p>We are not responsible for the content or privacy practices of external websites.</p>

        <h3>9. Changes to This Privacy Policy</h3>
        <p>We may update this policy. Continued use constitutes acceptance of updates.</p>

        <h3>10. Contact</h3>
        <p>Email: reubenyee2012@gmail.com</p>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
<script src="data.js"></script>
<script>
// List of all countries for autocomplete
const allCountries = [
    "AFGHANISTAN", "ALBANIA", "ALGERIA", "ANDORRA", "ANGOLA", "ANTIGUA AND BARBUDA", 
    "ARGENTINA", "ARMENIA", "AUSTRALIA", "AUSTRIA", "AZERBAIJAN", "BAHAMAS", 
    "BAHRAIN", "BANGLADESH", "BARBADOS", "BELARUS", "BELGIUM", "BELIZE", "BENIN", 
    "BHUTAN", "BOLIVIA", "BOSNIA AND HERZEGOVINA", "BOTSWANA", "BRAZIL", "BRUNEI", 
    "BULGARIA", "BURKINA FASO", "BURUNDI", "CABO VERDE", "CAMBODIA", "CAMEROON", 
    "CANADA", "CENTRAL AFRICAN REPUBLIC", "CHAD", "CHILE", "CHINA", "COLOMBIA", 
    "COMOROS", "CONGO", "COSTA RICA", "CROATIA", "CUBA", "CYPRUS", "CZECH REPUBLIC", 
    "DENMARK", "DJIBOUTI", "DOMINICA", "DOMINICAN REPUBLIC", "ECUADOR", "EGYPT", 
    "EL SALVADOR", "EQUATORIAL GUINEA", "ERITREA", "ESTONIA", "ESWATINI", "ETHIOPIA", 
    "FIJI", "FINLAND", "FRANCE", "GABON", "GAMBIA", "GEORGIA", "GERMANY", "GHANA", 
    "GREECE", "GRENADA", "GUATEMALA", "GUINEA", "GUINEA-BISSAU", "GUYANA", "HAITI", 
    "HONDURAS", "HUNGARY", "ICELAND", "INDIA", "INDONESIA", "IRAN", "IRAQ", 
    "IRELAND", "ISRAEL", "ITALY", "JAMAICA", "JAPAN", "JORDAN", "KAZAKHSTAN", 
    "KENYA", "KIRIBATI", "KOREA, NORTH", "KOREA, SOUTH", "KOSOVO", "KUWAIT", 
    "KYRGYZSTAN", "LAOS", "LATVIA", "LEBANON", "LESOTHO", "LIBERIA", "LIBYA", 
    "LIECHTENSTEIN", "LITHUANIA", "LUXEMBOURG", "MADAGASCAR", "MALAWI", "MALAYSIA", 
    "MALDIVES", "MALI", "MALTA", "MARSHALL ISLANDS", "MAURITANIA", "MAURITIUS", 
    "MEXICO", "MICRONESIA", "MOLDOVA", "MONACO", "MONGOLIA", "MONTENEGRO", 
    "MOROCCO", "MOZAMBIQUE", "MYANMAR", "NAMIBIA", "NAURU", "NEPAL", 
    "NETHERLANDS", "NEW ZEALAND", "NICARAGUA", "NIGER", "NIGERIA", "NORTH MACEDONIA", 
    "NORWAY", "OMAN", "PAKISTAN", "PALAU", "PALESTINE", "PANAMA", "PAPUA NEW GUINEA", 
    "PARAGUAY", "PERU", "PHILIPPINES", "POLAND", "PORTUGAL", "QATAR", "ROMANIA", 
    "RUSSIA", "RWANDA", "SAINT KITTS AND NEVIS", "SAINT LUCIA", 
    "SAINT VINCENT AND THE GRENADINES", "SAMOA", "SAN MARINO", "SAO TOME AND PRINCIPE", 
    "SAUDI ARABIA", "SENEGAL", "SERBIA", "SEYCHELLES", "SIERRA LEONE", "SINGAPORE", 
    "SLOVAKIA", "SLOVENIA", "SOLOMON ISLANDS", "SOMALIA", "SOUTH AFRICA", 
    "SOUTH SUDAN", "SPAIN", "SRI LANKA", "SUDAN", "SURINAME", "SWEDEN", "SWITZERLAND", 
    "SYRIA", "TAIWAN", "TAJIKISTAN", "TANZANIA", "THAILAND", "TIMOR-LESTE", "TOGO", 
    "TONGA", "TRINIDAD AND TOBAGO", "TUNISIA", "TURKEY", "TURKMENISTAN", "TUVALU", 
    "UGANDA", "UKRAINE", "UNITED ARAB EMIRATES", "UNITED KINGDOM", "UNITED STATES", 
    "URUGUAY", "UZBEKISTAN", "VANUATU", "VATICAN CITY", "VENEZUELA", "VIETNAM", 
    "YEMEN", "ZAMBIA", "ZIMBABWE"
];

// Language translations
const translations = {
    en: {
        title: "Geodle ðŸŒ",
        gameModes: "ðŸŽ® Game Modes",
        pathMode: "ðŸ›¤ï¸ Routele",
        countryMode: "ðŸŒ Countryle",
        flagMode: "ðŸ³ï¸ Flagle",
        pathModeDesc: "Get geographic clues and guess the mystery location!",
        countryModeDesc: "Compare countries by continent, population, GDP, and more!",
        flagModeDesc: "Identify countries by their flags!",
        clue: "Clue",
        of: "of",
        loadingClue: "Loading clue...",
        guessPlaceholder: "Type your guess here",
        guess: "Guess",
        totalWins: "Total Wins",
        resetGame: "Reset Game",
        resetWinCount: "Reset Win Count",
        pastHints: "Past Hints",
        guessHistory: "Guess History",
        shareScore: "Share My Score",
        newGame: "New Game",
        dailyLimit: "You've already played today! Come back tomorrow ðŸ‘€",
        dataLoadingError: "Data Loading Error",
        dataLoadingErrorDesc: "Could not load the geography data file (data.js). Please make sure the file exists and is properly formatted.",
        helpImprove: "Help Us Improve",
        music: "Music",
        correct: "ðŸŽ‰ Correct! The answer is",
        incorrect: "âŒ {guess} is not correct. Here's the next clue...",
        gameOver: "ðŸ˜” Game Over! The answer was",
        resetGameConfirm: "ðŸ”„ Game reset! New country selected.",
        resetWinsConfirm: "Are you sure you want to reset your win count? This cannot be undone.",
        resetWinsSuccess: "ðŸ† Win count reset to 0!",
        congratulations: "ðŸŽ‰ Congratulations!<br>You guessed \"{answer}\" after {clues} clue{plural}!",
        betterLuck: "ðŸ˜” Better luck next time!<br>The answer was \"{answer}\"",
        scoreCopied: "Score copied to clipboard!",
        scoreWon: "ðŸŒ Geodle - I guessed \"{answer}\" in {clues}/10 clues! Total Wins: {wins}",
        scoreLost: "ðŸŒ Geodle - I couldn't guess \"{answer}\" in 10 clues. Can you?"
    },
    es: {
        title: "Geodle ðŸŒ",
        gameModes: "ðŸŽ® Modos de Juego",
        pathMode: "ðŸ›¤ï¸ Modo Ruta",
        countryMode: "ðŸŒ Modo PaÃ­s",
        flagMode: "ðŸ³ï¸ Modo Bandera",
        pathModeDesc: "Â¡ObtÃ©n pistas geogrÃ¡ficas y adivina la ubicaciÃ³n misteriosa!",
        countryModeDesc: "Â¡Compara paÃ­ses por continente, poblaciÃ³n, PIB y mÃ¡s!",
        flagModeDesc: "Â¡Identifica paÃ­ses por sus banderas!",
        clue: "Pista",
        of: "de",
        loadingClue: "Cargando pista...",
        guessPlaceholder: "Escribe tu respuesta aquÃ­",
        guess: "Adivinar",
        totalWins: "Victorias Totales",
        resetGame: "Reiniciar Juego",
        resetWinCount: "Reiniciar Contador",
        pastHints: "Pistas Anteriores",
        guessHistory: "Historial de Respuestas",
        shareScore: "Compartir PuntuaciÃ³n",
        newGame: "Nuevo Juego",
        dailyLimit: "Â¡Ya has jugado hoy! Vuelve maÃ±ana ðŸ‘€",
        dataLoadingError: "Error al Cargar Datos",
        dataLoadingErrorDesc: "No se pudo cargar el archivo de datos geogrÃ¡ficos (data.js). AsegÃºrate de que el archivo existe y estÃ¡ formateado correctamente.",
        helpImprove: "AyÃºdanos a Mejorar",
        music: "MÃºsica",
        correct: "ðŸŽ‰ Â¡Correcto! La respuesta es",
        incorrect: "âŒ {guess} no es correcto. AquÃ­ tienes la siguiente pista...",
        gameOver: "ðŸ˜” Â¡Juego Terminado! La respuesta era",
        resetGameConfirm: "ðŸ”„ Â¡Juego reiniciado! Nuevo paÃ­s seleccionado.",
        resetWinsConfirm: "Â¿EstÃ¡s seguro de que quieres reiniciar tu contador de victorias? Esto no se puede deshacer.",
        resetWinsSuccess: "ðŸ† Â¡Contador de victorias reiniciado a 0!",
        congratulations: "ðŸŽ‰ Â¡Felicidades!<br>Â¡Adivinaste \"{answer}\" despuÃ©s de {clues} pista{plural}!",
        betterLuck: "ðŸ˜” Â¡Mejor suerte la prÃ³xima vez!<br>La respuesta era \"{answer}\"",
        scoreCopied: "Â¡PuntuaciÃ³n copiada al portapapeles!",
        scoreWon: "ðŸŒ Geodle - Â¡AdivinÃ© \"{answer}\" en {clues}/10 pistas! Victorias Totales: {wins}",
        scoreLost: "ðŸŒ Geodle - No pude adivinar \"{answer}\" en 10 pistas. Â¿Puedes tÃº?"
    },
    fr: {
        title: "Geodle ðŸŒ",
        gameModes: "ðŸŽ® Modes de Jeu",
        pathMode: "ðŸ›¤ï¸ Mode Chemin",
        countryMode: "ðŸŒ Mode Pays",
        flagMode: "ðŸ³ï¸ Mode Drapeau",
        pathModeDesc: "Obtenez des indices gÃ©ographiques et devinez le lieu mystÃ©rieux !",
        countryModeDesc: "Comparez les pays par continent, population, PIB et plus !",
        flagModeDesc: "Identifiez les pays par leurs drapeaux !",
        clue: "Indice",
        of: "sur",
        loadingClue: "Chargement de l'indice...",
        guessPlaceholder: "Tapez votre rÃ©ponse ici",
        guess: "Deviner",
        totalWins: "Victoires Totales",
        resetGame: "RÃ©initialiser le Jeu",
        resetWinCount: "RÃ©initialiser le Compteur",
        pastHints: "Indices PrÃ©cÃ©dents",
        guessHistory: "Historique des RÃ©ponses",
        shareScore: "Partager mon Score",
        newGame: "Nouveau Juego",
        dailyLimit: "Vous avez dÃ©jÃ  jouÃ© aujourd'hui ! Revenez demain ðŸ‘€",
        dataLoadingError: "Erreur de Chargement des DonnÃ©es",
        dataLoadingErrorDesc: "Impossible de charger le fichier de donnÃ©es gÃ©ographiques (data.js). Assurez-vous que le fichier existe et est correctement formatÃ©.",
        helpImprove: "Aidez-nous Ã  AmÃ©liorer",
        music: "Musique",
        correct: "ðŸŽ‰ Correct ! La rÃ©ponse est",
        incorrect: "âŒ {guess} n'est pas correct. Voici le prochain indice...",
        gameOver: "ðŸ˜” Jeu TerminÃ© ! La rÃ©ponse Ã©tait",
        resetGameConfirm: "ðŸ”„ Jeu rÃ©initialisÃ© ! Nouveau pays sÃ©lectionnÃ©.",
        resetWinsConfirm: "ÃŠtes-vous sÃ»r de vouloir rÃ©initialiser votre compteur de victoires ? Cela ne peut pas Ãªtre annulÃ©.",
        resetWinsSuccess: "ðŸ† Compteur de victoires rÃ©initialisÃ© Ã  0 !",
        congratulations: "ðŸŽ‰ FÃ©licitations !<br>Vous avez devinÃ© \"{answer}\" aprÃ¨s {clues} indice{plural} !",
        betterLuck: "ðŸ˜” Bonne luck la prochaine fois !<br>La rÃ©ponse Ã©tait \"{answer}\"",
        scoreCopied: "Score copiÃ© dans le presse-papiers !",
        scoreWon: "ðŸŒ Geodle - J'ai devinÃ© \"{answer}\" en {clues}/10 indices ! Victoires Totales : {wins}",
        scoreLost: "ðŸŒ Geodle - Je n'ai pas pu deviner \"{answer}\" en 10 indices. Pouvez-vous ?"
    },
    de: {
        title: "Geodle ðŸŒ",
        gameModes: "ðŸŽ® Spielmodi",
        pathMode: "ðŸ›¤ï¸ Pfad-Modus",
        countryMode: "ðŸŒ Land-Modus",
        flagMode: "ðŸ³ï¸ Flaggen-Modus",
        pathModeDesc: "Erhalten Sie geografische Hinweise und erraten Sie den geheimnisvollen Ort!",
        countryModeDesc: "Vergleichen Sie LÃ¤nder nach Kontinent, BevÃ¶lkerung, BIP und mehr!",
        flagModeDesc: "Identifizieren Sie LÃ¤nder anhand ihrer Flaggen!",
        clue: "Hinweis",
        of: "von",
        loadingClue: "Hinweis wird geladen...",
        guessPlaceholder: "Geben Sie Ihre Antwort hier ein",
        guess: "Raten",
        totalWins: "Gesamtsiege",
        resetGame: "Spiel ZurÃ¼cksetzen",
        resetWinCount: "SiegzÃ¤hler ZurÃ¼cksetzen",
        pastHints: "FrÃ¼here Hinweise",
        guessHistory: "Ratehistorie",
        shareScore: "Punktzahl Teilen",
        newGame: "Neues Spiel",
        dailyLimit: "Sie haben heute schon gespielt! Kommen Sie morgen wieder ðŸ‘€",
        dataLoadingError: "Datenladefehler",
        dataLoadingErrorDesc: "Die geografische Datendatei (data.js) konnte nicht geladen werden. Stellen Sie sicher, dass die Datei existiert et korrekt formatiert ist.",
        helpImprove: "Helfen Sie uns zu Verbessern",
        music: "Musik",
        correct: "ðŸŽ‰ Richtig! Die Antwort ist",
        incorrect: "âŒ {guess} ist nicht richtig. Hier ist der nÃ¤chste Hinweis...",
        gameOver: "ðŸ˜” Spiel Vorbei! Die Antwort war",
        resetGameConfirm: "ðŸ”„ Spiel zurÃ¼ckgesetzt! Neues Land ausgewÃ¤hlt.",
        resetWinsConfirm: "Sind Sie sicher, dass Sie Ihren SiegzÃ¤hler zurÃ¼cksetzen mÃ¶chten? Dies kann nicht rÃ¼ckgÃ¤ngig gemacht werden.",
        resetWinsSuccess: "ðŸ† SiegzÃ¤hler auf 0 zurÃ¼ckgesetzt!",
        congratulations: "ðŸŽ‰ GlÃ¼ckwunsch!<br>Sie haben \"{answer}\" nach {clues} Hinweis{plural} erraten!",
        betterLuck: "ðŸ˜” Viel GlÃ¼ck beim nÃ¤chsten Mal!<br>Die Antwort war \"{answer}\"",
        scoreCopied: "Punktzahl in die Zwischenablage kopiert!",
        scoreWon: "ðŸŒ Geodle - Ich habe \"{answer}\" in {clues}/10 Hinweisen erraten! Gesamtsiege: {wins}",
        scoreLost: "ðŸŒ Geodle - Ich konnte \"{answer}\" nicht in 10 Hinweisen erraten. KÃ¶nnen Sie es?"
    },
    it: {
        title: "Geodle ðŸŒ",
        gameModes: "ðŸŽ® ModalitÃ  di Gioco",
        pathMode: "ðŸ›¤ï¸ ModalitÃ  Percorso",
        countryMode: "ðŸŒ ModalitÃ  Paese",
        flagMode: "ðŸ³ï¸ ModalitÃ  Bandiera",
        pathModeDesc: "Ottieni indizi geografici e indovina la localitÃ  misteriosa!",
        countryModeDesc: "Confronta i paesi per continente, popolazione, PIL e altro!",
        flagModeDesc: "Identifica i paesi dalle loro bandiere!",
        clue: "Indizio",
        of: "di",
        loadingClue: "Caricamento indizio...",
        guessPlaceholder: "Digita la tua risposta qui",
        guess: "Indovina",
        totalWins: "Vittorie Totali",
        resetGame: "Reimposta Gioco",
        resetWinCount: "Reimposta Contatore",
        pastHints: "Indizi Precedenti",
        guessHistory: "Cronologia Risposte",
        shareScore: "Condividi Punteggio",
        newGame: "Nuovo Gioco",
        dailyLimit: "Hai giÃ  giocato oggi! Torna domani ðŸ‘€",
        dataLoadingError: "Errore Caricamento Dati",
        dataLoadingErrorDesc: "Impossibile caricare il file dei dati geografici (data.js). Assicurati che il file esista e sia formattato correttamente.",
        helpImprove: "Aiutaci a Migliorar",
        music: "Musica",
        correct: "ðŸŽ‰ Corretto! La risposta Ã¨",
        incorrect: "âŒ {guess} non Ã¨ corretto. Ecco il prossimo indizio...",
        gameOver: "ðŸ˜” Gioco Finito! La risposta era",
        resetGameConfirm: "ðŸ”„ Gioco reimpostato! Nuovo paese selezionato.",
        resetWinsConfirm: "Sei sicuro di voler reimpostare il contatore delle vittorie? Questo non puÃ² essere annullato.",
        resetWinsSuccess: "ðŸ† Contatore vittorie reimpostato a 0!",
        congratulations: "ðŸŽ‰ Congratulazioni!<br>Hai indovinato \"{answer}\" dopo {clues} indizi{plural}!",
        betterLuck: "ðŸ˜” Buona fortuna la prossima volta!<br>La risposta era \"{answer}\"",
        scoreCopied: "Punteggio copiato negli appunti!",
        scoreWon: "ðŸŒ Geodle - Ho indovinato \"{answer}\" in {clues}/10 indizi! Vittorie Totali: {wins}",
        scoreLost: "ðŸŒ Geodle - Non sono riuscito a indovinare \"{answer}\" in 10 indizi. Riesci tu?"
    },
    pt: {
        title: "Geodle ðŸŒ",
        gameModes: "ðŸŽ® Modos de Jogo",
        pathMode: "ðŸ›¤ï¸ Modo Caminho",
        countryMode: "ðŸŒ Modo PaÃ­s",
        flagMode: "ðŸ³ï¸ Modo Bandeira",
        pathModeDesc: "Obtenha pistas geogrÃ¡ficas e adivinhe o local misterioso!",
        countryModeDesc: "Compare paÃ­ses por continente, populaÃ§Ã£o, PIB e mais!",
        flagModeDesc: "Identifique paÃ­ses pelas suas bandeiras!",
        clue: "Pista",
        of: "de",
        loadingClue: "Carregando pista...",
        guessPlaceholder: "Digite sua resposta aqui",
        guess: "Adivinhar",
        totalWins: "VitÃ³rias Totais",
        resetGame: "Reiniciar Jogo",
        resetWinCount: "Reiniciar Contador",
        pastHints: "Pistas Anteriores",
        guessHistory: "HistÃ³rico de Respostas",
        shareScore: "Compartilhar PontuaÃ§Ã£o",
        newGame: "Novo Juego",
        dailyLimit: "VocÃª jÃ¡ jogou hoje! Volte amanhÃ£ ðŸ‘€",
        dataLoadingError: "Erro ao Carregar Dados",
        dataLoadingErrorDesc: "NÃ£o foi possÃ­vel carregar o arquivo de dados geogrÃ¡ficos (data.js). Certifique-se de que o arquivo existe e estÃ¡ formatado corretamente.",
        helpImprove: "Ajude-nos a Melhorar",
        music: "MÃºsica",
        correct: "ðŸŽ‰ Correto! A resposta Ã©",
        incorrect: "âŒ {guess} nÃ£o estÃ¡ correto. Aqui estÃ¡ a prÃ³xima pista...",
        gameOver: "ðŸ˜” Fim de Jogo! A resposta era",
        resetGameConfirm: "ðŸ”„ Jogo reiniciado! Novo paÃ­s seleccionado.",
        resetWinsConfirm: "Tem certeza de que deseja reiniciar seu contador de vitÃ³rias? Isso nÃ£o pode ser desfeito.",
        resetWinsSuccess: "ðŸ† Contador de vitÃ³rias reiniciado para 0!",
        congratulations: "ðŸŽ‰ ParabÃ©ns!<br>VocÃª adivinhou \"{answer}\" apÃ³s {clues} pista{plural}!",
        betterLuck: "ðŸ˜” Boa sorte na prÃ³xima vez!<br>A resposta era \"{answer}\"",
        scoreCopied: "PontuaÃ§Ã£o copiada para a Ã¡rea de transferÃªncia!",
        scoreWon: "ðŸŒ Geodle - Eu adivinhei \"{answer}\" em {clues}/10 pistas! VitÃ³rias Totales: {wins}",
        scoreLost: "ðŸŒ Geodle - NÃ£o consegui adivinhar \"{answer}\" em 10 pistas. Consegue vocÃª?"
    },
    ru: {
        title: "Ð“ÐµÐ¾Ð´Ð» ðŸŒ",
        gameModes: "ðŸŽ® Ð ÐµÐ¶Ð¸Ð¼Ñ‹ Ð˜Ð³Ñ€Ñ‹",
        pathMode: "ðŸ›¤ï¸ Ð ÐµÐ¶Ð¸Ð¼ ÐŸÑƒÑ‚Ð¸",
        countryMode: "ðŸŒ Ð ÐµÐ¶Ð¸Ð¼ Ð¡Ñ‚Ñ€Ð°Ð½Ñ‹",
        flagMode: "ðŸ³ï¸ Ð ÐµÐ¶Ð¸Ð¼ Ð¤Ð»Ð°Ð³Ð°",
        pathModeDesc: "ÐŸÐ¾Ð»ÑƒÑ‡Ð°Ð¹Ñ‚Ðµ Ð³ÐµÐ¾Ð³Ñ€Ð°Ñ„Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¿Ð¾Ð´ÑÐºÐ°Ð·ÐºÐ¸ Ð¸ ÑƒÐ³Ð°Ð´Ñ‹Ð²Ð°Ð¹Ñ‚Ðµ Ð·Ð°Ð³Ð°Ð´Ð¾Ñ‡Ð½Ð¾Ðµ Ð¼ÐµÑÑ‚Ð¾!",
        countryModeDesc: "Ð¡Ñ€Ð°Ð²Ð½Ð¸Ð²Ð°Ð¹Ñ‚Ðµ ÑÑ‚Ñ€Ð°Ð½Ñ‹ Ð¿Ð¾ ÐºÐ¾Ð½Ñ‚Ð¸Ð½ÐµÐ½Ñ‚Ñƒ, Ð½Ð°ÑÐµÐ»ÐµÐ½Ð¸ÑŽ, Ð’Ð’ÐŸ Ð¸ Ð¼Ð½Ð¾Ð³Ð¾Ð¼Ñƒ Ð´Ñ€ÑƒÐ³Ð¾Ð¼Ñƒ!",
        flagModeDesc: "ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»ÑÐ¹Ñ‚Ðµ ÑÑ‚Ñ€Ð°Ð½Ñ‹ Ð¿Ð¾ Ð¸Ñ… Ñ„Ð»Ð°Ð³Ð°Ð¼!",
        clue: "ÐŸÐ¾Ð´ÑÐºÐ°Ð·ÐºÐ°",
        of: "Ð¸Ð·",
        loadingClue: "Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð¿Ð¾Ð´ÑÐºÐ°Ð·ÐºÐ¸...",
        guessPlaceholder: "Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð²Ð°Ñˆ Ð¾Ñ‚Ð²ÐµÑ‚ Ð·Ð´ÐµÑÑŒ",
        guess: "Ð£Ð³Ð°Ð´Ð°Ñ‚ÑŒ",
        totalWins: "Ð’ÑÐµÐ³Ð¾ ÐŸÐ¾Ð±ÐµÐ´",
        resetGame: "Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð˜Ð³Ñ€Ñƒ",
        resetWinCount: "Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð¡Ñ‡ÐµÑ‚Ñ‡Ð¸Ðº",
        pastHints: "ÐŸÑ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰Ð¸Ðµ ÐŸÐ¾Ð´ÑÐºÐ°Ð·ÐºÐ¸",
        guessHistory: "Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ ÐžÑ‚Ð²ÐµÑ‚Ð¾Ð²",
        shareScore: "ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ Ð¡Ñ‡ÐµÑ‚Ð¾Ð¼",
        newGame: "ÐÐ¾Ð²Ð°Ñ Ð˜Ð³Ñ€Ð°",
        dailyLimit: "Ð’Ñ‹ ÑƒÐ¶Ðµ Ð¸Ð³Ñ€Ð°Ð»Ð¸ ÑÐµÐ³Ð¾Ð´Ð½Ñ! Ð’Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°Ð¹Ñ‚ÐµÑÑŒ Ð·Ð°Ð²Ñ‚Ñ€Ð° ðŸ‘€",
        dataLoadingError: "ÐžÑˆÐ¸Ð±ÐºÐ° Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð”Ð°Ð½Ð½Ñ‹Ñ…",
        dataLoadingErrorDesc: "ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ñ„Ð°Ð¹Ð» Ð³ÐµÐ¾Ð³Ñ€Ð°Ñ„Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ… (data.js). Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ Ñ„Ð°Ð¹Ð» ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ Ð¸ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ Ð¾Ñ‚Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½.",
        helpImprove: "ÐŸÐ¾Ð¼Ð¾Ð³Ð¸Ñ‚Ðµ ÐÐ°Ð¼ Ð£Ð»ÑƒÑ‡ÑˆÐ¸Ñ‚ÑŒ",
        music: "ÐœÑƒÐ·Ñ‹ÐºÐ°",
        correct: "ðŸŽ‰ ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾! ÐžÑ‚Ð²ÐµÑ‚:",
        incorrect: "âŒ {guess} Ð½ÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾. Ð’Ð¾Ñ‚ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð°Ñ Ð¿Ð¾Ð´ÑÐºÐ°Ð·ÐºÐ°...",
        gameOver: "ðŸ˜” Ð˜Ð³Ñ€Ð° ÐžÐºÐ¾Ð½Ñ‡ÐµÐ½Ð°! ÐžÑ‚Ð²ÐµÑ‚ Ð±Ñ‹Ð»:",
        resetGameConfirm: "ðŸ”„ Ð˜Ð³Ñ€Ð° ÑÐ±Ñ€Ð¾ÑˆÐµÐ½Ð°! Ð’Ñ‹Ð±Ñ€Ð°Ð½Ð° Ð½Ð¾Ð²Ð°Ñ ÑÑ‚Ñ€Ð°Ð½Ð°.",
        resetWinsConfirm: "Ð’Ñ‹ ÑƒÐ²ÐµÑ€ÐµÐ½Ñ‹, Ñ‡Ñ‚Ð¾ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ ÑÐ±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ ÑÑ‡ÐµÑ‚Ñ‡Ð¸Ðº Ð¿Ð¾Ð±ÐµÐ´? Ð­Ñ‚Ð¾ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ Ð½ÐµÐ»ÑŒÐ·Ñ Ð¾Ñ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ.",
        resetWinsSuccess: "ðŸ† Ð¡Ñ‡ÐµÑ‚Ñ‡Ð¸Ðº Ð¿Ð¾Ð±ÐµÐ´ ÑÐ±Ñ€Ð¾ÑˆÐµÐ½ Ð´Ð¾ 0!",
        congratulations: "ðŸŽ‰ ÐŸÐ¾Ð·Ð´Ñ€Ð°Ð²Ð»ÑÐµÐ¼!<br>Ð’Ñ‹ ÑƒÐ³Ð°Ð´Ð°Ð»Ð¸ \"{answer}\" Ð·Ð° {clues} Ð¿Ð¾Ð´ÑÐºÐ°Ð·Ðº{plural}!",
        betterLuck: "ðŸ˜” Ð£Ð´Ð°Ñ‡Ð¸ Ð² ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ Ñ€Ð°Ð·!<br>ÐžÑ‚Ð²ÐµÑ‚ Ð±Ñ‹Ð» \"{answer}\"",
        scoreCopied: "Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½ Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°!",
        scoreWon: "ðŸŒ Ð“ÐµÐ¾Ð´Ð» - Ð¯ ÑƒÐ³Ð°Ð´Ð°Ð» \"{answer}\" Ð·Ð° {clues}/10 Ð¿Ð¾Ð´ÑÐºÐ°Ð·Ð¾Ðº! Ð’ÑÐµÐ³Ð¾ ÐŸÐ¾Ð±ÐµÐ´: {wins}",
        scoreLost: "ðŸŒ Ð“ÐµÐ¾Ð´Ð» - Ð¯ Ð½Ðµ ÑÐ¼Ð¾Ð³ ÑƒÐ³Ð°Ð´Ð°Ñ‚ÑŒ \"{answer}\" Ð·Ð° 10 Ð¿Ð¾Ð´ÑÐºÐ°Ð·Ð¾Ðº. Ð¡Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð»Ð¸ Ð²Ñ‹?"
    },
    zh: {
        title: "åœ°ç†çŒœçŒœ ðŸŒ",
        gameModes: "ðŸŽ® æ¸¸æˆæ¨¡å¼",
        pathMode: "ðŸ›¤ï¸ è·¯å¾„æ¨¡å¼",
        countryMode: "ðŸŒ å›½å®¶æ¨¡å¼", 
        flagMode: "ðŸ³ï¸ å›½æ——æ¨¡å¼",
        pathModeDesc: "èŽ·å¾—åœ°ç†çº¿ç´¢ï¼ŒçŒœå‡ºç¥žç§˜åœ°ç‚¹ï¼",
        countryModeDesc: "æŒ‰å¤§æ´²ã€äººå£ã€GDPç­‰æ¯”è¾ƒå›½å®¶ï¼",
        flagModeDesc: "é€šè¿‡å›½æ——è¯†åˆ«å›½å®¶ï¼",
        clue: "çº¿ç´¢",
        of: "/",
        loadingClue: "åŠ è½½çº¿ç´¢ä¸­...",
        guessPlaceholder: "åœ¨æ­¤è¾“å…¥æ‚¨çš„çŒœæµ‹",
        guess: "çŒœæµ‹",
        totalWins: "æ€»èƒœåˆ©æ¬¡æ•°",
        resetGame: "é‡ç½®æ¸¸æˆ",
        resetWinCount: "é‡ç½®èƒœåˆ©æ¬¡æ•°",
        pastHints: "è¿‡å¾€æç¤º",
        guessHistory: "çŒœæµ‹åŽ†å²",
        shareScore: "åˆ†äº«æˆ‘çš„åˆ†æ•°",
        newGame: "æ–°æ¸¸æˆ",
        dailyLimit: "æ‚¨ä»Šå¤©å·²ç»çŽ©è¿‡äº†ï¼æ˜Žå¤©å†æ¥ ðŸ‘€",
        dataLoadingError: "æ•°æ®åŠ è½½é”™è¯¯",
        dataLoadingErrorDesc: "æ— æ³•åŠ è½½åœ°ç†æ•°æ®æ–‡ä»¶ (data.js)ã€‚è¯·ç¡®ä¿æ–‡ä»¶å­˜åœ¨ä¸”æ ¼å¼æ­£ç¡®ã€‚",
        helpImprove: "å¸®åŠ©æˆ‘ä»¬æ”¹è¿›",
        music: "éŸ³ä¹",
        correct: "ðŸŽ‰ æ­£ç¡®ï¼ç­”æ¡ˆæ˜¯",
        incorrect: "âŒ {guess} ä¸æ­£ç¡®ã€‚è¿™æ˜¯ä¸‹ä¸€ä¸ªçº¿ç´¢...",
        gameOver: "ðŸ˜” æ¸¸æˆç»“æŸï¼ç­”æ¡ˆæ˜¯",
        resetGameConfirm: "ðŸ”„ æ¸¸æˆå·²é‡ç½®ï¼é€‰æ‹©äº†æ–°å›½å®¶ã€‚",
        resetWinsConfirm: "æ‚¨ç¡®å®šè¦é‡ç½®èƒœåˆ©æ¬¡æ•°å—ï¼Ÿæ­¤æ“ä½œæ— æ³•æ’¤é”€ã€‚",
        resetWinsSuccess: "ðŸ† èƒœåˆ©æ¬¡æ•°å·²é‡ç½®ä¸º0ï¼",
        congratulations: "ðŸŽ‰ æ­å–œï¼<br>æ‚¨åœ¨{clues}ä¸ªçº¿ç´¢åŽçŒœå‡ºäº†\"{answer}\"ï¼",
        betterLuck: "ðŸ˜” ä¸‹æ¬¡å¥½è¿ï¼<br>ç­”æ¡ˆæ˜¯\"{answer}\"",
        scoreCopied: "åˆ†æ•°å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼",
        scoreWon: "ðŸŒ åœ°ç†çŒœçŒœ - æˆ‘åœ¨{clues}/10ä¸ªçº¿ç´¢ä¸­çŒœå‡ºäº†\"{answer}\"ï¼æ€»èƒœåˆ©æ¬¡æ•°ï¼š{wins}",
        scoreLost: "ðŸŒ åœ°ç†çŒœçŒœ - æˆ‘æ— æ³•åœ¨10ä¸ªçº¿ç´¢ä¸­çŒœå‡º\"{answer}\"ã€‚ä½ èƒ½å—ï¼Ÿ"
    },
    ja: {
        title: "ã‚¸ã‚ªãƒ‰ãƒ« ðŸŒ",
        gameModes: "ðŸŽ® ã‚²ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰",
        pathMode: "ðŸ›¤ï¸ ãƒ‘ã‚¹ãƒ¢ãƒ¼ãƒ‰",
        countryMode: "ðŸŒ å›½ãƒ¢ãƒ¼ãƒ‰",
        flagMode: "ðŸ³ï¸ æ——ãƒ¢ãƒ¼ãƒ‰",
        pathModeDesc: "åœ°ç†çš„ãªãƒ’ãƒ³ãƒˆã‚’å¾—ã¦ã€è¬Žã®å ´æ‰€ã‚’å½“ã¦ã¦ãã ã•ã„ï¼",
        countryModeDesc: "å¤§é™¸ã€äººå£ã€GDP ãªã©ã§å›½ã‚’æ¯”è¼ƒã—ã‚ˆã†ï¼",
        flagModeDesc: "å›½æ——ã§å›½ã‚’ç‰¹å®šã—ã‚ˆã†ï¼",
        clue: "ãƒ’ãƒ³ãƒˆ",
        of: "/",
        loadingClue: "ãƒ’ãƒ³ãƒˆèª­ã¿è¾¼ã¿ä¸­...",
        guessPlaceholder: "ã‚ãªãŸã®å›žç­”ã‚’ã“ã“ã«å…¥åŠ›",
        guess: "æŽ¨æ¸¬",
        totalWins: "ç·å‹åˆ©æ•°",
        resetGame: "ã‚²ãƒ¼ãƒ ãƒªã‚»ãƒƒãƒˆ",
        resetWinCount: "å‹åˆ©æ•°ãƒªã‚»ãƒƒãƒˆ",
        pastHints: "éŽåŽ»ã®ãƒ’ãƒ³ãƒˆ",
        guessHistory: "æŽ¨æ¸¬å±¥æ­´",
        shareScore: "ã‚¹ã‚³ã‚¢ã‚’å…±æœ‰",
        newGame: "æ–°ã—ã„ã‚²ãƒ¼ãƒ ",
        dailyLimit: "ä»Šæ—¥ã¯ã‚‚ã†ãƒ—ãƒ¬ã‚¤ã—ã¾ã—ãŸï¼æ˜Žæ—¥ã¾ãŸæ¥ã¦ãã ã•ã„ ðŸ‘€",
        dataLoadingError: "ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼",
        dataLoadingErrorDesc: "åœ°ç†ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ« (data.js) ã‚’èª­ã¿è¾¼ã‚ã¾ã›ã‚“ã§ã—ãŸã€‚ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ã€æ­£ã—ãå½¢å¼åŒ–ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚",
        helpImprove: "æ”¹å–„ã«ã”å”åŠ›ãã ã•ã„",
        music: "éŸ³æ¥½",
        correct: "ðŸŽ‰ æ­£è§£ï¼ç­”ãˆã¯",
        incorrect: "âŒ {guess} ã¯æ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚æ¬¡ã®ãƒ’ãƒ³ãƒˆã§ã™...",
        gameOver: "ðŸ˜” ã‚²ãƒ¼ãƒ çµ‚äº†ï¼ç­”ãˆã¯",
        resetGameConfirm: "ðŸ”„ ã‚²ãƒ¼ãƒ ãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã—ãŸï¼æ–°ã—ã„å›½ãŒé¸æŠžã•ã‚Œã¾ã—ãŸã€‚",
        resetWinsConfirm: "å‹åˆ©æ•°ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¦ã‚‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿã“ã®æ“ä½œã¯å…ƒã«æˆ»ã›ã¾ã›ã‚“ã€‚",
        resetWinsSuccess: "ðŸ† å‹åˆ©æ•°ã‚’0ã«ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸï¼",
        congratulations: "ðŸŽ‰ ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼<br>{clues}å€‹ã®ãƒ’ãƒ³ãƒˆã§\"{answer}\"ã‚’å½“ã¦ã¾ã—ãŸï¼",
        betterLuck: "ðŸ˜” æ¬¡å›žé ‘å¼µã‚Šã¾ã—ã‚‡ã†ï¼<br>ç­”ãˆã¯\"{answer}\"ã§ã—ãŸ",
        scoreCopied: "ã‚¹ã‚³ã‚¢ãŒã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã—ãŸï¼",
        scoreWon: "ðŸŒ ã‚¸ã‚ªãƒ‰ãƒ« - {clues}/10å€‹ã®ãƒ’ãƒ³ãƒˆã§\"{answer}\"ã‚’å½“ã¦ã¾ã—ãŸï¼ç·å‹åˆ©æ•°ï¼š{wins}",
        scoreLost: "ðŸŒ ã‚¸ã‚ªãƒ‰ãƒ« - 10å€‹ã®ãƒ’ãƒ³ãƒˆã§\"{answer}\"ã‚’å½“ã¦ã‚‰ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚ã‚ãªãŸã¯ã§ãã¾ã™ã‹ï¼Ÿ"
    },
    ko: {
        title: "ì§€ì˜¤ë“¤ ðŸŒ",
        gameModes: "ðŸŽ® ê²Œìž„ ëª¨ë“œ",
        pathMode: "ðŸ›¤ï¸ ê²½ë¡œ ëª¨ë“œ",
        countryMode: "ðŸŒ êµ­ê°€ ëª¨ë“œ",
        flagMode: "ðŸ³ï¸ êµ­ê¸° ëª¨ë“œ", 
        pathModeDesc: "ì§€ë¦¬ì  ë‹¨ì„œë¥¼ ì–»ê³  ì‹ ë¹„ë¡œìš´ ìž¥ì†Œë¥¼ ë§žì¶°ë³´ì„¸ìš”!",
        countryModeDesc: "ëŒ€ë¥™, ì¸êµ¬, GDP ë“±ìœ¼ë¡œ êµ­ê°€ë¥¼ ë¹„êµí•´ë³´ì„¸ìš”!",
        flagModeDesc: "êµ­ê¸°ë¡œ êµ­ê°€ë¥¼ ì‹ë³„í•´ë³´ì„¸ìš”!",
        clue: "ë‹¨ì„œ",
        of: "/",
        loadingClue: "ë‹¨ì„œ ë¡œë”© ì¤‘...",
        guessPlaceholder: "ì—¬ê¸°ì— ë‹µì„ ìž…ë ¥í•˜ì„¸ìš”",
        guess: "ì¶”ì¸¡",
        totalWins: "ì´ ìŠ¹ë¦¬ íšŸìˆ˜",
        resetGame: "ê²Œìž„ ìž¬ì‹œìž‘",
        resetWinCount: "ìŠ¹ë¦¬ íšŸìˆ˜ ìž¬ì„¤ì •",
        pastHints: "ì´ì „ ížŒíŠ¸",
        guessHistory: "ì¶”ì¸¡ ê¸°ë¡",
        shareScore: "ì ìˆ˜ ê³µìœ í•˜ê¸°",
        newGame: "ìƒˆ ê²Œìž„",
        dailyLimit: "ì˜¤ëŠ˜ ì´ë¯¸ í”Œë ˆì´í–ˆìŠµë‹ˆë‹¤! ë‚´ì¼ ë‹¤ì‹œ ì˜¤ì„¸ìš” ðŸ‘€",
        dataLoadingError: "ë°ì´í„° ë¡œë”© ì˜¤ë¥˜",
        dataLoadingErrorDesc: "ì§€ë¦¬ ë°ì´í„° íŒŒì¼(data.js)ì„ ë¡œë“œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. íŒŒì¼ì´ ì¡´ìž¬í•˜ê³  ì˜¬ë°”ë¥´ê²Œ í˜•ì‹í™”ë˜ì–´ ìžˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.",
        helpImprove: "ê°œì„ ì— ë„ì›€ì£¼ê¸°",
        music: "ìŒì•…",
        correct: "ðŸŽ‰ ì •ë‹µ! ë‹µì€",
        incorrect: "âŒ {guess}ëŠ” ì •ë‹µì´ ì•„ë‹™ë‹ˆë‹¤. ë‹¤ìŒ ë‹¨ì„œìž…ë‹ˆë‹¤...",
        gameOver: "ðŸ˜” ê²Œìž„ ì˜¤ë²„! ì •ë‹µì€",
        resetGameConfirm: "ðŸ”„ ê²Œìž„ì´ ìž¬ì‹œìž‘ë˜ì—ˆìŠµë‹ˆë‹¤! ìƒˆë¡œìš´ êµ­ê°€ê°€ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤.",
        resetWinsConfirm: "ìŠ¹ë¦¬ íšŸìˆ˜ë¥¼ ìž¬ì„¤ì •í•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì´ ìž‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",
        resetWinsSuccess: "ðŸ† ìŠ¹ë¦¬ íšŸìˆ˜ê°€ 0ìœ¼ë¡œ ìž¬ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤!",
        congratulations: "ðŸŽ‰ ì¶•í•˜í•©ë‹ˆë‹¤!<br>{clues}ê°œì˜ ë‹¨ì„œë¡œ \"{answer}\"ì„(ë¥¼) ë§žì·„ìŠµë‹ˆë‹¤!",
        betterLuck: "ðŸ˜” ë‹¤ìŒì— ë” ìž˜í•´ë³´ì„¸ìš”!<br>ì •ë‹µì€ \"{answer}\"ì˜€ìŠµë‹ˆë‹¤",
        scoreCopied: "ì ìˆ˜ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!",
        scoreWon: "ðŸŒ ì§€ì˜¤ë“¤ - {clues}/10ê°œ ë‹¨ì„œë¡œ \"{answer}\"ì„(ë¥¼) ë§žì·„ìŠµë‹ˆë‹¤! ì´ ìŠ¹ë¦¬ íšŸìˆ˜: {wins}",
        scoreLost: "ðŸŒ ì§€ì˜¤ë“¤ - 10ê°œ ë‹¨ì„œë¡œ \"{answer}\"ì„(ë¥¼) ë§žì¶”ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ë‹¹ì‹ ì€ í•  ìˆ˜ ìžˆë‚˜ìš”?"
    }
};

let currentLanguage = 'en';
let currentQuestion = null;
let currentClueIndex = 0;
let guessHistory = [];
let gameEnded = false;
let totalWins = 0;
let worldMap = null;
let musicEnabled = true;

// Tutorial variables
let currentSlide = 1;
const totalSlides = 4;

// Country suggestions variables
let highlightedSuggestionIndex = -1;
let suggestionTimeout;

// Translation function
function translate(key, replacements = {}) {
    let text = translations[currentLanguage][key] || translations['en'][key] || key;
    
    // Replace placeholders
    Object.keys(replacements).forEach(placeholder => {
        text = text.replace(`{${placeholder}}`, replacements[placeholder]);
    });
    
    return text;
}

// Update all translatable elements
function updateLanguage() {
    document.querySelectorAll('[data-translate]').forEach(element => {
        const key = element.getAttribute('data-translate');
        if (element.tagName === 'INPUT') {
            element.placeholder = translate(key);
        } else {
            element.textContent = translate(key);
        }
    });
    
    // Update placeholder specifically
    const guessInput = document.getElementById('guessInput');
    if (guessInput) {
        guessInput.placeholder = translate('guessPlaceholder');
    }
    
    // Update language display properly
    const langMap = {
        'en': 'English',
        'es': 'EspaÃ±ol', 
        'fr': 'FranÃ§ais',
        'de': 'Deutsch',
        'it': 'Italiano',
        'pt': 'PortuguÃªs',
        'ru': 'Ð ÑƒÑÑÐºÐ¸Ð¹',
        'zh': 'ä¸­æ–‡',
        'ja': 'æ—¥æœ¬èªž',
        'ko': 'í•œêµ­ì–´'
    };
    
    document.getElementById('current-language').textContent = langMap[currentLanguage] || 'English';
    
    // Update mode descriptions
    updateModeDescriptions();
}

// Update mode descriptions based on current language
function updateModeDescriptions() {
    const pathBtn = document.getElementById('pathModeBtn');
    const countryBtn = document.getElementById('countryModeBtn');
    const flagBtn = document.getElementById('flagModeBtn');
    const description = document.getElementById('modeDescription');
    
    if (pathBtn && pathBtn.classList.contains('active')) {
        description.textContent = translate('pathModeDesc');
    } else if (countryBtn && countryBtn.classList.contains('active')) {
        description.textContent = translate('countryModeDesc');
    } else if (flagBtn && flagBtn.classList.contains('active')) {
        description.textContent = translate('flagModeDesc');
    }
}

// Load and save settings
function loadSettings() {
    // Load language
    const savedLanguage = localStorage.getItem('geodle_language');
    if (savedLanguage && translations[savedLanguage]) {
        currentLanguage = savedLanguage;
    }
    
    // Load music setting
    const savedMusic = localStorage.getItem('geodle_music_enabled');
    musicEnabled = savedMusic !== null ? savedMusic === 'true' : true;
    document.getElementById('music-toggle').checked = musicEnabled;
    
    // Load win count
    const savedWins = localStorage.getItem('geodle_total_wins');
    totalWins = savedWins ? parseInt(savedWins, 10) : 0;
    
    // Load tutorial completed status
    const tutorialCompleted = localStorage.getItem('geodle_tutorial_completed');
    if (tutorialCompleted === 'true') {
        // Tutorial already completed, hide it
        document.getElementById('tutorial-overlay').style.display = 'none';
    }
}

function saveSettings() {
    localStorage.setItem('geodle_language', currentLanguage);
    localStorage.setItem('geodle_music_enabled', musicEnabled.toString());
    localStorage.setItem('geodle_total_wins', totalWins.toString());
}

function toggleMusic() {
    musicEnabled = !musicEnabled;
    saveSettings();
    console.log('Music ' + (musicEnabled ? 'enabled' : 'disabled'));
}

// Language functions
function changeLanguage(langCode) {
    if (translations[langCode]) {
        currentLanguage = langCode;
        saveSettings();
        updateLanguage();
        
        // Update selected language option
        document.querySelectorAll('.language-option').forEach(option => {
            option.classList.remove('selected');
            if (option.getAttribute('data-lang') === langCode) {
                option.classList.add('selected');
            }
        });
    }
}

// Enhanced Country Suggestions Functions
function showCountrySuggestions(input) {
    const suggestionsContainer = document.getElementById('countrySuggestions');
    const inputValue = input.value.toUpperCase().trim();
    
    if (!inputValue) {
        suggestionsContainer.classList.remove('show');
        return;
    }
    
    // Filter countries based on input with better matching
    const filteredCountries = allCountries.filter(country => 
        country.includes(inputValue) || 
        country.toLowerCase().includes(inputValue.toLowerCase())
    ).slice(0, 10); // Limit to 10 suggestions for better performance
    
    suggestionsContainer.innerHTML = '';
    
    if (filteredCountries.length === 0) {
        // Show no results message
        const noResults = document.createElement('div');
        noResults.className = 'no-results';
        noResults.textContent = 'No matching countries found';
        suggestionsContainer.appendChild(noResults);
        suggestionsContainer.classList.add('show');
        return;
    }
    
    // Add country suggestions with enhanced display
    filteredCountries.forEach((country, index) => {
        const suggestion = document.createElement('div');
        suggestion.className = 'country-suggestion';
        suggestion.dataset.country = country;
        
        // Add country flag emoji (simplified - you can add actual flag mapping)
        const flagEmoji = getCountryFlag(country);
        
        // Highlight matching part of the text
        const countryLower = country.toLowerCase();
        const inputLower = input.value.toLowerCase();
        const matchIndex = countryLower.indexOf(inputLower);
        
        let displayName = country;
        if (matchIndex !== -1) {
            const beforeMatch = country.substring(0, matchIndex);
            const match = country.substring(matchIndex, matchIndex + input.value.length);
            const afterMatch = country.substring(matchIndex + input.value.length);
            
            displayName = `${beforeMatch}<span class="match-highlight">${match}</span>${afterMatch}`;
        }
        
        suggestion.innerHTML = `
            <span class="country-flag">${flagEmoji}</span>
            <span class="country-name">${displayName}</span>
        `;
        
        if (index === 0) {
            suggestion.classList.add('highlighted');
            highlightedSuggestionIndex = 0;
        }
        
        suggestion.addEventListener('click', () => {
            selectCountrySuggestion(country);
        });
        
        suggestionsContainer.appendChild(suggestion);
    });
    
    suggestionsContainer.classList.add('show');
}

function getCountryFlag(countryName) {
    // Simple flag mapping - you can expand this with actual country flag emojis
    const flagMap = {
        'USA': 'ðŸ‡ºðŸ‡¸', 'UNITED STATES': 'ðŸ‡ºðŸ‡¸',
        'UK': 'ðŸ‡¬ðŸ‡§', 'UNITED KINGDOM': 'ðŸ‡¬ðŸ‡§',
        'CANADA': 'ðŸ‡¨ðŸ‡¦',
        'AUSTRALIA': 'ðŸ‡¦ðŸ‡º',
        'GERMANY': 'ðŸ‡©ðŸ‡ª',
        'FRANCE': 'ðŸ‡«ðŸ‡·',
        'ITALY': 'ðŸ‡®ðŸ‡¹',
        'SPAIN': 'ðŸ‡ªðŸ‡¸',
        'JAPAN': 'ðŸ‡¯ðŸ‡µ',
        'CHINA': 'ðŸ‡¨ðŸ‡³',
        'INDIA': 'ðŸ‡®ðŸ‡³',
        'BRAZIL': 'ðŸ‡§ðŸ‡·',
        'RUSSIA': 'ðŸ‡·ðŸ‡º',
        'MEXICO': 'ðŸ‡²ðŸ‡½',
        'SOUTH KOREA': 'ðŸ‡°ðŸ‡·',
        'INDONESIA': 'ðŸ‡®ðŸ‡©',
        // Add more mappings as needed
    };
    
    return flagMap[countryName.toUpperCase()] || 'ðŸŒ'; // Default globe emoji
}

function selectCountrySuggestion(country) {
    const guessInput = document.getElementById('guessInput');
    guessInput.value = country;
    guessInput.focus();
    
    // Close dropdown
    document.getElementById('countrySuggestions').classList.remove('show');
    highlightedSuggestionIndex = -1;
    
    // Optional: Trigger guess automatically
    setTimeout(() => {
        if (document.getElementById('guessButton') && !document.getElementById('guessButton').disabled) {
            document.getElementById('guessButton').click();
        }
    }, 100);
}

function navigateSuggestions(direction) {
    const suggestions = document.querySelectorAll('.country-suggestion');
    if (suggestions.length === 0) return;
    
    // Remove highlight from current suggestion
    if (highlightedSuggestionIndex >= 0 && highlightedSuggestionIndex < suggestions.length) {
        suggestions[highlightedSuggestionIndex].classList.remove('highlighted');
    }
    
    // Calculate new index
    if (direction === 'up') {
        highlightedSuggestionIndex = highlightedSuggestionIndex <= 0 ? 
            suggestions.length - 1 : 
            highlightedSuggestionIndex - 1;
    } else { // down
        highlightedSuggestionIndex = highlightedSuggestionIndex >= suggestions.length - 1 ? 
            0 : 
            highlightedSuggestionIndex + 1;
    }
    
    // Add highlight to new suggestion
    suggestions[highlightedSuggestionIndex].classList.add('highlighted');
    suggestions[highlightedSuggestionIndex].scrollIntoView({ 
        block: 'nearest',
        behavior: 'smooth' 
    });
    
    // Update input with highlighted suggestion
    document.getElementById('guessInput').value = 
        suggestions[highlightedSuggestionIndex].dataset.country;
}

// Tutorial Functions
function showTutorial() {
    document.getElementById('tutorial-overlay').style.display = 'flex';
    setTimeout(() => {
        document.getElementById('tutorial-overlay').classList.add('show');
        changeSlide(1); // Reset to first slide
    }, 50);
}

function changeSlide(slideNumber) {
    if (slideNumber < 1 || slideNumber > totalSlides) return;
    
    currentSlide = slideNumber;
    
    // Hide all slides
    document.querySelectorAll('.tutorial-slide').forEach(slide => {
        slide.classList.remove('active');
    });
    
    // Show current slide
    const currentSlideElement = document.getElementById(`slide${slideNumber}`);
    if (currentSlideElement) {
        currentSlideElement.classList.add('active');
    }
    
    // Update dots
    document.querySelectorAll('.tutorial-dot').forEach(dot => {
        dot.classList.remove('active');
        if (parseInt(dot.getAttribute('data-slide')) === slideNumber) {
            dot.classList.add('active');
        }
    });
    
    // Update button texts for last slide
    if (slideNumber === totalSlides) {
        document.getElementById('start-playing').textContent = 'Start Playing!';
    }
}

function completeTutorial() {
    // Save that tutorial has been completed
    localStorage.setItem('geodle_tutorial_completed', 'true');
    
    // Hide tutorial with animation
    document.getElementById('tutorial-overlay').classList.remove('show');
    
    // After animation completes, hide the overlay completely
    setTimeout(() => {
        document.getElementById('tutorial-overlay').style.display = 'none';
        // Initialize the game
        initGame();
    }, 500);
}

// Show loading screen initially
function showLoadingScreen() {
    document.getElementById('loading-screen').classList.remove('hidden');
}

function hideLoadingScreen() {
    setTimeout(() => {
        document.getElementById('loading-screen').classList.add('hidden');
    }, 500); // Small delay to show the loading screen briefly
}

// Check if data is loaded and validate it
function validateData() {
    if (typeof geographyData === 'undefined') {
        console.error('geographyData is not defined. Make sure data.js is loaded.');
        return false;
    }
    
    if (!Array.isArray(geographyData)) {
        console.error('geographyData should be an array.');
        return false;
    }
    
    if (geographyData.length === 0) {
        console.error('geographyData array is empty.');
        return false;
    }
    
    // Validate structure of first item
    const firstItem = geographyData[0];
    if (!firstItem.answer || !firstItem.clues || !Array.isArray(firstItem.clues)) {
        console.error('Invalid data structure. Each item should have "answer" and "clues" properties.');
        return false;
    }
    
    return true;
}

// Initialize the game WITHOUT loading screen
function initGame(showLoading = false) {
    if (showLoading) {
        showLoadingScreen();
    }
    
    // Simulate loading time for better UX
    setTimeout(() => {
        // Validate data first
        if (!validateData()) {
            document.getElementById('loadingError').style.display = 'block';
            document.getElementById('guessInput').disabled = true;
            document.getElementById('guessButton').disabled = true;
            if (showLoading) hideLoadingScreen();
            return;
        }
        
        // Hide error message if it was shown
        document.getElementById('loadingError').style.display = 'none';
        
        // Initialize or reset the world map
        if (worldMap) {
            worldMap.remove();
            worldMap = null;
        }
        initWorldMap();
        
        // Get random question from external data
        const randomIndex = Math.floor(Math.random() * geographyData.length);
        currentQuestion = geographyData[randomIndex];
        currentClueIndex = 0;
        guessHistory = [];
        gameEnded = false;
        
        // Display the first clue
        updateClueDisplay();
        updateProgressBar();
        
        // Reset UI
        document.getElementById('guessInput').disabled = false;
        document.getElementById('guessButton').disabled = false;
        document.getElementById('guessInput').value = '';
        document.getElementById('feedback').textContent = '';
        document.getElementById('historyList').innerHTML = '';
        document.getElementById('pastHintsList').innerHTML = '';
        document.getElementById('endScreen').style.display = 'none';
        document.getElementById('countrySuggestions').classList.remove('show');
        
        // Focus on input
        document.getElementById('guessInput').focus();
        
        updateWinDisplay();
        
        if (showLoading) {
            hideLoadingScreen();
        }
    }, showLoading ? Math.random() * 800 + 400 : 100); // Only random delay when showing loading screen
}

function resetGame() {
    // Don't show loading screen, just reset immediately
    initGame(false);
    showFeedback(translate('resetGameConfirm'), '#0078d7');
}

function updateClueDisplay() {
    document.getElementById('currentClue').textContent = currentClueIndex + 1;
    document.getElementById('clueBox').textContent = currentQuestion.clues[currentClueIndex];
    updatePastHints();
}

function updatePastHints() {
    const pastHintsList = document.getElementById('pastHintsList');
    pastHintsList.innerHTML = '';
    
    // Show all hints up to current clue index
    for (let i = 0; i <= currentClueIndex; i++) {
        const li = document.createElement('li');
        li.textContent = `${i + 1}. ${currentQuestion.clues[i]}`;
        pastHintsList.appendChild(li);
    }
}

function updateProgressBar() {
    const progress = ((currentClueIndex + 1) / 10) * 100;
    document.getElementById('progressFill').style.width = progress + '%';
}

function updateWinDisplay() {
    const streakElement = document.getElementById('streak');
    streakElement.innerHTML = `ðŸ† <span data-translate="totalWins">${translate('totalWins')}</span>: ${totalWins}`;
}

// Initialize Leaflet world map
function initWorldMap() {
    worldMap = L.map('worldMap', {
        center: [20, 0],
        zoom: 1,
        minZoom: 1,
        maxZoom: 10,
        zoomControl: true,
        dragging: true,
        scrollWheelZoom: true,
        doubleClickZoom: true,
        touchZoom: true
    });

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: 'Â© OpenStreetMap contributors',
        maxZoom: 18
    }).addTo(worldMap);
}

function handleGuess(e) {
    e.preventDefault();
    
    if (gameEnded) return;
    
    const guess = document.getElementById('guessInput').value.trim().toUpperCase();
    
    if (!guess) return;
    
    // Check if correct
    const isCorrect = guess === currentQuestion.answer;
    
    // Add to history
    guessHistory.push({
        text: guess,
        correct: isCorrect,
        clueNumber: currentClueIndex + 1
    });
    
    if (isCorrect) {
        showFeedback(`${translate('correct')} ${currentQuestion.answer}`, 'green');
        totalWins++;
        saveSettings();
        updateWinDisplay();
        endGame(true);
    } else {
        if (currentClueIndex < 9) {
            currentClueIndex++;
            updateClueDisplay();
            updateProgressBar();
            showFeedback(translate('incorrect', {guess: guess}), 'red');
        } else {
            showFeedback(`${translate('gameOver')} ${currentQuestion.answer}`, 'orange');
            endGame(false);
        }
    }
    
    // Update history display
    updateHistoryDisplay();
    
    // Clear input and hide suggestions
    document.getElementById('guessInput').value = '';
    document.getElementById('countrySuggestions').classList.remove('show');
}

function showFeedback(message, color) {
    const feedback = document.getElementById('feedback');
    feedback.textContent = message;
    feedback.style.color = color;
}

function updateHistoryDisplay() {
    const historyList = document.getElementById('historyList');
    historyList.innerHTML = '';
    
    guessHistory.forEach((guess, index) => {
        const li = document.createElement('li');
        li.className = guess.correct ? 'correct' : 'incorrect';
        li.innerHTML = `
            <span>${translate('clue')} ${guess.clueNumber}: ${guess.text}</span>
            <span>${guess.correct ? 'âœ“' : 'âœ—'}</span>
        `;
        historyList.appendChild(li);
    });
}

function endGame(won) {
    gameEnded = true;
    document.getElementById('guessInput').disabled = true;
    document.getElementById('guessButton').disabled = true;
    
    const endScreen = document.getElementById('endScreen');
    const resultMsg = document.getElementById('resultMsg');
    
    if (won) {
        const plural = currentClueIndex + 1 > 1 ? 's' : '';
        resultMsg.innerHTML = translate('congratulations', {
            answer: currentQuestion.answer,
            clues: currentClueIndex + 1,
            plural: plural
        });
    } else {
        resultMsg.innerHTML = translate('betterLuck', {
            answer: currentQuestion.answer
        });
    }
    
    endScreen.style.display = 'block';
}

function shareScore() {
    const won = guessHistory.some(guess => guess.correct);
    const cluesUsed = won ? currentClueIndex + 1 : 10;
    
    const scoreText = won ? 
        translate('scoreWon', {
            answer: currentQuestion.answer,
            clues: cluesUsed,
            wins: totalWins
        }) :
        translate('scoreLost', {
            answer: currentQuestion.answer
        });
    
    if (navigator.share) {
        navigator.share({
            title: 'Geodle Score',
            text: scoreText,
            url: window.location.href
        });
    } else {
        // Fallback - copy to clipboard
        navigator.clipboard.writeText(scoreText + '\n' + window.location.href);
        alert(translate('scoreCopied'));
    }
}

// Menu functionality
function toggleMenu() {
    const dropdown = document.getElementById('menu-dropdown');
    const menuButton = document.getElementById('menu-button');
    
    dropdown.classList.toggle('show');
    menuButton.classList.toggle('open');
}

function closeMenu() {
    const dropdown = document.getElementById('menu-dropdown');
    const menuButton = document.getElementById('menu-button');
    
    dropdown.classList.remove('show');
    menuButton.classList.remove('open');
}

// Language dropdown functionality
function toggleLanguageDropdown() {
    const dropdown = document.getElementById('language-dropdown');
    const options = document.getElementById('language-options');
    
    dropdown.classList.toggle('open');
    options.classList.toggle('show');
}

function closeLanguageDropdown() {
    const dropdown = document.getElementById('language-dropdown');
    const options = document.getElementById('language-options');
    
    dropdown.classList.remove('open');
    options.classList.remove('show');
}

// Mode selector functionality
document.addEventListener('DOMContentLoaded', function() {
    // Load settings
    loadSettings();
    updateLanguage();
    
    // Show tutorial on first visit
    const tutorialCompleted = localStorage.getItem('geodle_tutorial_completed');
    if (tutorialCompleted !== 'true') {
        setTimeout(() => {
            showTutorial();
        }, 800);
    }
    
    // Tutorial event listeners
    document.getElementById('next-slide').addEventListener('click', function() {
        changeSlide(2);
    });
    
    document.getElementById('next-slide-2').addEventListener('click', function() {
        changeSlide(3);
    });
    
    document.getElementById('next-slide-3').addEventListener('click', function() {
        changeSlide(4);
    });
    
    document.getElementById('prev-slide').addEventListener('click', function() {
        changeSlide(1);
    });
    
    document.getElementById('prev-slide-2').addEventListener('click', function() {
        changeSlide(2);
    });
    
    document.getElementById('prev-slide-3').addEventListener('click', function() {
        changeSlide(3);
    });
    
    document.getElementById('skip-tutorial').addEventListener('click', function() {
        completeTutorial();
    });
    
    document.getElementById('start-playing').addEventListener('click', function() {
        completeTutorial();
    });
    
    // Tutorial dot navigation
    document.querySelectorAll('.tutorial-dot').forEach(dot => {
        dot.addEventListener('click', function() {
            const slideNumber = parseInt(this.getAttribute('data-slide'));
            changeSlide(slideNumber);
        });
    });
    
    // Menu event listeners
    document.getElementById('menu-button').addEventListener('click', function(e) {
        e.stopPropagation();
        toggleMenu();
    });
    
    // Show tutorial again button
    document.getElementById('menu-tutorial').addEventListener('click', function() {
        closeMenu();
        // Clear the tutorial completed flag to show it again
        localStorage.removeItem('geodle_tutorial_completed');
        showTutorial();
    });
    
    // Close menu when clicking outside
    document.addEventListener('click', function(e) {
        const menu = document.getElementById('menu-button');
        const dropdown = document.getElementById('menu-dropdown');
        const langDropdown = document.getElementById('language-dropdown');
        const suggestions = document.getElementById('countrySuggestions');
        const guessInput = document.getElementById('guessInput');
        const guessForm = document.getElementById('guessForm');
        
        if (!menu.contains(e.target) && !dropdown.contains(e.target)) {
            closeMenu();
        }
        
        if (!langDropdown.contains(e.target)) {
            closeLanguageDropdown();
        }
        
        // Close suggestions when clicking outside
        if (!guessForm.contains(e.target)) {
            suggestions.classList.remove('show');
            highlightedSuggestionIndex = -1;
        }
    });
    
    // Language selector
    document.getElementById('language-selector').addEventListener('click', function(e) {
        e.stopPropagation();
        toggleLanguageDropdown();
    });
    
    // Language options
    document.querySelectorAll('.language-option').forEach(option => {
        option.addEventListener('click', function() {
            const langCode = this.getAttribute('data-lang');
            changeLanguage(langCode);
            closeLanguageDropdown();
        });
    });
    
    // Menu items
    document.getElementById('menu-terms').addEventListener('click', function() {
        closeMenu();
        document.getElementById('terms-modal').style.display = 'block';
    });
    
    document.getElementById('menu-privacy').addEventListener('click', function() {
        closeMenu();
        document.getElementById('privacy-modal').style.display = 'block';
    });
    
    // Music toggle
    document.getElementById('music-toggle').addEventListener('change', toggleMusic);
    
    // Easter egg button
    document.getElementById('invisible-btn').addEventListener('dblclick', function() {
        alert('Everyone to DM me at 89132851 with a screenshot gets a place in this message forever! -creator Reuben');
    });
    
    // Enhanced Country suggestions
    const guessInput = document.getElementById('guessInput');
    
    guessInput.addEventListener('input', function() {
        // Debounce the suggestions to improve performance
        clearTimeout(suggestionTimeout);
        suggestionTimeout = setTimeout(() => {
            showCountrySuggestions(this);
        }, 150);
    });
    
    guessInput.addEventListener('keydown', function(e) {
        const suggestions = document.querySelectorAll('.country-suggestion');
        
        if (suggestions.length > 0 && suggestions[0].className !== 'no-results') {
            if (e.key === 'ArrowDown') {
                e.preventDefault();
                navigateSuggestions('down');
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                navigateSuggestions('up');
            } else if (e.key === 'Enter' && highlightedSuggestionIndex >= 0) {
                e.preventDefault();
                selectCountrySuggestion(suggestions[highlightedSuggestionIndex].dataset.country);
            } else if (e.key === 'Escape') {
                document.getElementById('countrySuggestions').classList.remove('show');
                highlightedSuggestionIndex = -1;
            }
        }
    });
    
    guessInput.addEventListener('focus', function() {
        if (this.value) {
            showCountrySuggestions(this);
        }
    });
    
    // Update mode descriptions on hover
    const pathBtn = document.getElementById('pathModeBtn');
    const countryBtn = document.getElementById('countryModeBtn');
    const flagBtn = document.getElementById('flagModeBtn');
    const description = document.getElementById('modeDescription');
    
    if (pathBtn && countryBtn && flagBtn && description) {
        pathBtn.addEventListener('mouseenter', function() {
            description.textContent = translate('pathModeDesc');
        });
        
        countryBtn.addEventListener('mouseenter', function() {
            description.textContent = translate('countryModeDesc');
        });
        
        flagBtn.addEventListener('mouseenter', function() {
            description.textContent = translate('flagModeDesc');
        });
        
        // Reset to current mode description on mouse leave
        const resetDescription = function() {
            updateModeDescriptions();
        };
        
        pathBtn.addEventListener('mouseleave', resetDescription);
        countryBtn.addEventListener('mouseleave', resetDescription);
        flagBtn.addEventListener('mouseleave', resetDescription);
    }
    
    // Only initialize game if tutorial isn't showing
    if (localStorage.getItem('geodle_tutorial_completed') === 'true') {
        // Add a small delay to ensure data.js is fully loaded
        setTimeout(() => {
            initGame(true);
        }, 100);
    }
    
    // Set up event listeners
    document.getElementById('guessForm').addEventListener('submit', handleGuess);
    document.getElementById('resetBtn').addEventListener('click', resetGame);
    document.getElementById('resetWinsBtn').addEventListener('click', function() {
        if (confirm(translate('resetWinsConfirm'))) {
            totalWins = 0;
            saveSettings();
            updateWinDisplay();
            showFeedback(translate('resetWinsSuccess'), '#6f42c1');
        }
    });
    document.getElementById('shareBtn').addEventListener('click', shareScore);
    document.getElementById('newGameBtn').addEventListener('click', function() {
        // Don't show loading screen for new game
        initGame(false);
    });
    
    // Show initial loading screen
    showLoadingScreen();
});

// Terms & Cookies Consent Banner functionality
const banner = document.getElementById('consent-banner');
const termsModal = document.getElementById('terms-modal');
const privacyModal = document.getElementById('privacy-modal');

// Show banner if not accepted
if(localStorage.getItem('geodleConsentAccepted') !== 'true'){
    setTimeout(() => { banner.classList.add('show'); }, 500);
} else { banner.style.display = 'none'; }

// Accept button
document.getElementById('accept-btn').addEventListener('click', () => {
    localStorage.setItem('geodleConsentAccepted', 'true');
    banner.classList.remove('show');
    setTimeout(() => { banner.style.display = 'none'; }, 500);
});

// Open modals
document.getElementById('open-terms').addEventListener('click', () => {
    termsModal.style.display = 'block';
});
document.getElementById('open-privacy').addEventListener('click', () => {
    privacyModal.style.display = 'block';
});

// Close modals
document.getElementById('close-terms').addEventListener('click', () => {
    termsModal.style.display = 'none';
});
document.getElementById('close-privacy').addEventListener('click', () => {
    privacyModal.style.display = 'none';
});

// Close modals when clicking outside content
window.addEventListener('click', (e) => {
    if(e.target === termsModal) termsModal.style.display = 'none';
    if(e.target === privacyModal) privacyModal.style.display = 'none';
});

// Close tutorial when clicking outside modal
document.getElementById('tutorial-overlay').addEventListener('click', function(e) {
    if (e.target === this) {
        this.classList.remove('show');
        setTimeout(() => {
            this.style.display = 'none';
            if (localStorage.getItem('geodle_tutorial_completed') !== 'true') {
                completeTutorial();
            }
        }, 500);
    }
});
</script>
</body>
</html>
